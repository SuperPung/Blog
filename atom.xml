<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>SuperPung</title>
  
  <subtitle>Follow Your Heart</subtitle>
  <link href="https://blog.superpung.xyz/atom.xml" rel="self"/>
  
  <link href="https://blog.superpung.xyz/"/>
  <updated>2021-05-24T02:28:52.173Z</updated>
  <id>https://blog.superpung.xyz/</id>
  
  <author>
    <name>SUPER</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç–¾ç—…ä¼ æ’­æ¨¡æ‹Ÿ</title>
    <link href="https://blog.superpung.xyz/primary-practice-h61/"/>
    <id>https://blog.superpung.xyz/primary-practice-h61/</id>
    <published>2021-05-22T12:35:30.000Z</published>
    <updated>2021-05-24T02:28:52.173Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h61</p><a id="more"></a><div class="note info"><h4 id="Param"><a href="#Param" class="headerlink" title="Param"></a>Param</h4><table><thead><tr><th>æ–¹æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>getImmuEffect()</code> / <code>setImmuEffect(double immuEffect)</code></td><td>ç–«è‹—å…ç–«ç‡ï¼Œå¯é™ä½ä¼ æŸ“ç‡</td></tr><tr><td><code>getImmuRate()</code> / <code>setImmuRate(double immuRate)</code></td><td>äººç¾¤ä¸­æ³¨å°„ç–«è‹—çš„äººçš„æ¯”ä¾‹ï¼Œéšæœº</td></tr><tr><td><code>getCityPopulation()</code> / <code>setCityPopulation(int cityPopulation)</code></td><td>åŸå¸‚äººå£æ•°</td></tr><tr><td><code>getFamilySize()</code> / <code>setFamilySize(int familySize)</code></td><td>æ¯ä¸ªå®¶åº­äººå£æ•°ï¼ˆæŒ‰åºï¼‰</td></tr><tr><td><code>getCompanySize()</code> / <code>setCompanySize(int companySize)</code></td><td>æ¯ä¸ªå…¬å¸äººå£æ•°ï¼ˆéšæœºï¼‰</td></tr><tr><td><code>getSpreadRateFamily()</code> / <code>setSpreadRateFamily(double spreadRateFamily)</code></td><td>å®¶åº­ä¼ æŸ“ç‡ï¼ˆæ™šä¸Šï¼‰</td></tr><tr><td><code>getSpreadRateCompany(double spreadRateCompany)</code></td><td>å…¬å¸ä¼ æŸ“ç‡ï¼ˆç™½å¤©ï¼‰</td></tr><tr><td><code>getLatentPeriod()</code> / <code>setLatentPeriod(int latentPeriod)</code></td><td>æ½œä¼æœŸï¼Œæ­¤æ—¶ç—…äººå…·æœ‰ä¼ æŸ“æ€§ï¼Œä½†ä»æ­£å¸¸ä¸Šç­ç”Ÿæ´»ï¼Œåº¦è¿‡æ½œä¼æœŸåæ’é˜Ÿæ²»ç–—</td></tr><tr><td><code>getHealingRateHome()</code> / <code>setHealingRateHome(double healingRateHome)</code></td><td>åœ¨å®¶æ¯å¤©è‡ªæ„ˆæ¦‚ç‡</td></tr><tr><td><code>getDeathRateHome()</code> / <code>setDeathRateHome(double deathRateHome)</code></td><td>åœ¨å®¶æ¯å¤©æ­»äº¡æ¦‚ç‡</td></tr><tr><td><code>getHealingRateHospital()</code> / <code>setHealingRateHospital(double healingRateHospital)</code></td><td>åœ¨åŒ»é™¢æ¯å¤©æ²»æ„ˆæ¦‚ç‡</td></tr><tr><td><code>getDeathRateHospital()</code> / <code>setDeathRateHospital(double deathRateHospital)</code></td><td>åœ¨åŒ»é™¢æ¯å¤©æ­»äº¡æ¦‚ç‡</td></tr><tr><td><code>getHospitalSize()</code> / <code>setHospitalSize(int hospitalSize)</code></td><td>åŒ»é™¢åºŠä½æ•°</td></tr><tr><td><code>getInitPatients()</code> / <code>setInitPatients(List&lt;Integer&gt; initPatients)</code></td><td>åˆå§‹ç—…äººç¼–å·</td></tr></tbody></table><h4 id="SimResult"><a href="#SimResult" class="headerlink" title="SimResult"></a>SimResult</h4><table><thead><tr><th>æ–¹æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>getLatents()</code> / <code>setLatents(int latents)</code></td><td>æ½œä¼æœŸçŠ¶æ€äººæ•°</td></tr><tr><td><code>getDeaths()</code> / <code>setDeaths(int deaths)</code></td><td>æ­»äº¡äººæ•°</td></tr><tr><td><code>getCured()</code> / <code>setCured(int cured)</code></td><td>è‡ªæ„ˆ+ç—Šæ„ˆäººæ•°</td></tr><tr><td><code>getPatients()</code> / <code>setPatients(int patients)</code></td><td>æ‚£ç—…äººæ•°</td></tr></tbody></table></div><p>å¥åº·-&gt;æ½œä¼æœŸ-&gt;æ‚£ç—…-&gt;è‡ªæ„ˆã€æ²»æ„ˆ/æ­»äº¡</p><p>å…¬å¸æˆå‘˜è®¾ç½®é—®é¢˜ï¼Œå½±å“æ•ˆç‡ï¼›ç–«è‹—æ³¨å°„ç»™è°ï¼Œéšæœºé—®é¢˜ä¸èƒ½æ¯æ¬¡å¾ªç¯åä¸‡æ¬¡</p><p>å¯ä¸å¯ä»¥åªä¿å­˜ä¸å¥åº·çš„äººï¼Œæ¯å¤©ä¸å†å¾ªç¯å¥åº·è€…</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h61&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>ç®€å•çš„çˆ¬è™«å°è¯•</title>
    <link href="https://blog.superpung.xyz/tju-drive-crawling/"/>
    <id>https://blog.superpung.xyz/tju-drive-crawling/</id>
    <published>2021-05-22T11:30:07.000Z</published>
    <updated>2021-05-22T12:24:44.388Z</updated>
    
    <content type="html"><![CDATA[<p>ç®—æ˜¯ç¬¬ä¸€æ¬¡å†™çš„ä¸€ä¸ªå°å·¥å…·å§ã€‚</p><a id="more"></a><p>GitHubï¼š<a href="https://github.com/SuperPung/TJU-Drive-Crawling/">https://github.com/SuperPung/TJU-Drive-Crawling/</a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å›æƒ³èµ·ä¸Šä¸€æ¬¡å†™ Python å°é¡¹ç›®ï¼Œè¿˜æ˜¯ä¸€å¹´ä¹‹å‰å­¦ä¹  Python çš„æ—¶å€™ã€‚å½“æ—¶çœ‹ä¹¦ï¼ˆpcc2eï¼‰æ—¶æ•²äº†ä¸€éä¹¦åé¢å‡ ç« çš„é¡¹ç›®ï¼Œå°¤å…¶æ˜¯å¤–æ˜Ÿäººå…¥ä¾µçš„å°æ¸¸æˆï¼Œå¾ˆæœ‰è¶£ã€‚</p><p>æ—¶éš”ä¸€å¹´ï¼Œé¢å¯¹æ¯æ¬¡æ‰“å¼€éƒ½éœ€è¦è¾“å…¥å¯†ç çš„å¤©å¤§äº‘ç›˜ï¼Œè¿˜æœ‰å¥½è¯è€å¸ˆç•™ä½œä¸šã€æ‰¹ä½œä¸š follow his heart çš„é¢‘ç‡ï¼Œæˆ‘å†³å®šå°è¯•å†™ä¸ªå°çˆ¬è™«ï¼Œèƒ½åœ¨äº‘ç›˜æ›´æ–°çš„æ—¶å€™æé†’æˆ‘ã€‚</p><p>çˆ¬è™«ï¼Œå­¦ Python ä¹‹å‰å°±å¬è¯´äº†ï¼Œå¾ˆå–œæ¬¢è¿™ç§æ‡’äººå·¥å…·ã€‚å‰æ®µæ—¶é—´å¼€å§‹ç»å¸¸é€› GitHubï¼Œä¹Ÿçœ‹åˆ°è¿‡ä¸€äº›å°é¡¹ç›®ã€‚äºæ˜¯æˆ‘æ‰“å¼€äº†è®¸ä¹…æœªç”¨è¿‡çš„ Pycharmï¼Œæ–°å»ºäº†ä¸€ä¸ªé¡¹ç›®ã€‚</p><blockquote><p>JetBrains ç«Ÿç„¶ä¸æ”¯æŒ edu é‚®ç®±äº†ï¼ŒğŸ‘´å­¦ç”Ÿè®¤è¯é©¬ä¸Šå°±åˆ°æœŸï¼Œåªèƒ½ç”¨å­¦ä¿¡ç½‘èµ„æ–™è®¤è¯ï¼Œå¥½å‡ å¤©ä¹Ÿä¸å‡ºç»“æœâ€¦â€¦</p></blockquote><p>å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼Œè¿™ä¸ªå°å·¥å…·å·²ç»å†™å®Œäº†ã€‚æ‰€ä»¥æœ‰äº›é‡æ„çš„è¿‡ç¨‹å¯èƒ½ä¼šå¿˜è®°äº†ã€‚</p><h1 id="Crawling"><a href="#Crawling" class="headerlink" title="Crawling"></a>Crawling</h1><p>ç”¨ Chrome æŠ“åŒ…ï¼Œåˆ†æåˆ°å¤©å¤§äº‘ç›˜çš„ url å®é™…ä¸Šæ˜¯ <a href="http://pan.tju.edu.cn:9123/v1/link?method=listdir%EF%BC%8C%E5%86%99%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%A4%B4">http://pan.tju.edu.cn:9123/v1/link?method=listdirï¼Œå†™ä¸€ä¸ªè¯·æ±‚å¤´</a> <code>payload_header</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">payload_header = &#123;</span><br><span class="line">    <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/plain;charset=UTF-8&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;http://pan.tju.edu.cn/&quot;</span>,</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) &quot;</span></span><br><span class="line">                  <span class="string">&quot;Chrome/90.0.4430.212 Safari/537.36 &quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯·æ±‚æ•°æ®éœ€è¦å‘å‡ºä¸€ä¸ª json <code>data</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;link&quot;</span>: link,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>: password,</span><br><span class="line">    <span class="string">&quot;by&quot;</span>: <span class="string">&quot;name&quot;</span>,</span><br><span class="line">    <span class="string">&quot;sort&quot;</span>: <span class="string">&quot;asc&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ link å°±æ˜¯å¤©å¤§äº‘ç›˜é“¾æ¥çš„å 32 ä½ï¼Œpassword å°±æ˜¯å¯†ç ã€‚</p><p>æœ€åé€šè¿‡ POST è¯·æ±‚å¾—åˆ°å“åº”ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = requests.session()</span><br><span class="line">get_root = s.post(url, data=json.dumps(data), headers=payload_header)</span><br><span class="line"><span class="keyword">return</span> get_root.text</span><br></pre></td></tr></table></figure><h1 id="å“åº”åˆ†æ"><a href="#å“åº”åˆ†æ" class="headerlink" title="å“åº”åˆ†æ"></a>å“åº”åˆ†æ</h1><p>å¾—åˆ°å“åº”åï¼Œéœ€è¦å¯¹å†…å®¹åˆ†æã€‚å°è¯•ç”¨é¢å‘å¯¹è±¡ï¼Œä½†æœ€ç»ˆé€‰æ‹©äº†å‡½æ•°ã€‚é€šè¿‡é€’å½’å°†æ–‡ä»¶ç›®å½•è¾“å‡ºã€‚</p><p>æ¯æ¬¡åˆ†æåè¾“å‡ºæ–‡ä»¶åˆ—è¡¨ï¼Œä»¥ json æ ¼å¼å­˜æ”¾åˆ°æœ¬åœ°ç›®å½•ï¼Œä¸‹ä¸€æ¬¡åˆ†æåˆ™ä¸æœ¬åœ°æ¯”è¾ƒï¼Œè¿™æ ·å°±å¯ä»¥çŸ¥é“å“ªäº›æ–‡ä»¶æ›´æ–°äº†ã€‚</p><p>å› ä¸ºä½¿ç”¨äº†é€’å½’ï¼Œæ‰€ä»¥å¾ˆå¤šå°åŠŸèƒ½åˆç”¨å‡½æ•°é‡æ„äº†ä¸€ä¸‹ã€‚</p><h1 id="é‚®ä»¶æœåŠ¡"><a href="#é‚®ä»¶æœåŠ¡" class="headerlink" title="é‚®ä»¶æœåŠ¡"></a>é‚®ä»¶æœåŠ¡</h1><p>é€šè¿‡ smtplib å®ç°ã€‚</p><h1 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h1><p>éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¹Ÿèµ°äº†å¼¯è·¯ï¼Œæ ¹æœ¬åŸå› æ˜¯è·¯å¾„çš„é—®é¢˜ã€‚</p><p>æœ€ååœ¨è„šæœ¬ä¸Šå…ˆåŠ ä¸€å¥ cd è§£å†³ã€‚</p><h1 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h1><p>ä¸€å…±èŠ±äº†ä¸€å¤©å¤šä¸€ç‚¹çš„æ—¶é—´å®Œæˆï¼Œè¿˜æ˜¯å¾ˆæœ‰è¶£çš„ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç®—æ˜¯ç¬¬ä¸€æ¬¡å†™çš„ä¸€ä¸ªå°å·¥å…·å§ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Python" scheme="https://blog.superpung.xyz/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ç®€å•çš„èŠå¤©å®¤</title>
    <link href="https://blog.superpung.xyz/primary-practice-h60/"/>
    <id>https://blog.superpung.xyz/primary-practice-h60/</id>
    <published>2021-05-22T08:51:20.000Z</published>
    <updated>2021-05-22T11:27:27.535Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h60</p><a id="more"></a><div class="note info"><p>åœ¨ <code>ChatServer</code>ã€<code>ChatClient</code> ä¸­å¢åŠ é€‚å½“ä»£ç ï¼Œå¹¶å¢åŠ é€‚å½“çš„ç±»ï¼Œå®Œæˆä¸€ä¸ªç®€å•çš„èŠå¤©å®¤</p></div><p>å’Œä¹‹å‰ OOP çš„ä¸€ä¸ªå®éªŒç±»ä¼¼ï¼Œåˆ©ç”¨ Socket å®ç° client å’Œ server é€šä¿¡ã€‚ä¸åŒçš„æ˜¯ï¼Œæœ¬å®éªŒéœ€è¦å¤šå®¢æˆ·ç«¯å’Œä¸€æœåŠ¡å™¨é€šä¿¡ã€‚</p><h1 id="0x00-ChatServer"><a href="#0x00-ChatServer" class="headerlink" title="0x00 ChatServer"></a>0x00 ChatServer</h1><p>ç±»å˜é‡ä¸€å®šåŒ…æ‹¬ä¸€ä¸ª <code>ServerSocket</code>ã€‚</p><p>æ ¹æ®è¦æ±‚ï¼Œéœ€è¦ä»æ–‡ä»¶ä¸­è¯»å–åˆ°æ‰€æœ‰çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œç”¨ <code>HashMap</code> ä¿å­˜ã€‚</p><p>å¤š clientï¼Œä¸ºäº†ç»™æ¯ä¸€ä¸ª client å›å¤ï¼Œéœ€è¦ä¿å­˜ç›®å‰å·²ç»è¿æ¥çš„ clientã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> ServerSocket server;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, String&gt; passwd;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Socket&gt; clients = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure><p>æ„é€ æ–¹æ³•åªéœ€è¦åˆå§‹åŒ– server å’Œ passwdï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ChatServer</span> <span class="params">(<span class="keyword">int</span> port, String passwordFilename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">server = <span class="keyword">new</span> ServerSocket(port);</span><br><span class="line">passwd = readLines(passwordFilename);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»å…¸ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">readLines</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">String line;</span><br><span class="line">Reader reader;</span><br><span class="line">Map&lt;String, String&gt; result = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">line = lineReader.readLine();</span><br><span class="line"><span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (line.trim().length() == <span class="number">0</span> || line.startsWith(<span class="string">&quot;#&quot;</span>)) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">String[] lineContent = line.split(<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">result.put(lineContent[<span class="number">0</span>], lineContent[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦å¼€å§‹ç›‘å¬ï¼Œæ‰€ä»¥æ­¤ç±»ä¸€å®šç»§æ‰¿äº† <code>Thread</code>ï¼Œ<code>startListen</code> åªéœ€è¦è°ƒç”¨ <code>run</code> æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startListen</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡å†™ <code>run</code>ï¼Œå› ä¸ºè¦æŒç»­ç›‘å¬ï¼Œä¸å¤šä¸ª client ç›¸è¿ï¼Œæ‰€ä»¥éœ€è¦æ–°å»º <code>ServerThread</code> ç±»ï¼Œåœ¨æ­¤ç±»ä¸­è°ƒç”¨å®ƒï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">Socket socket = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">socket = server.accept();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">clients.add(socket);</span><br><span class="line"><span class="keyword">new</span> ServerThread(socket, passwd).start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-ServerThread"><a href="#0x01-ServerThread" class="headerlink" title="0x01 ServerThread"></a>0x01 ServerThread</h1><p>æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Socket socket;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, String&gt; passwd;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ServerThread</span><span class="params">(Socket socket, Map&lt;String, String&gt; passwd)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.socket = socket;</span><br><span class="line">    <span class="keyword">this</span>.passwd = passwd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡å†™ <code>run</code>ï¼Œä»è¾“å…¥æµè¯»å…¥ï¼Œå‘è¾“å‡ºæµå†™å‡ºã€‚è¯»å…¥çš„æ˜¯æ¯ä¸€ä¸ªå®¢æˆ·ç«¯è¯´çš„è¯ï¼Œå†™å‡ºéœ€è¦å‘æ‰€æœ‰å®¢æˆ·ç«¯å†™å‡ºã€‚</p><div class="note warning"><p>è¿™é‡Œä¸çŸ¥é“æ€ä¹ˆå¤„ç†æ¯”è¾ƒåˆé€‚ï¼Œå¯èƒ½ä¼šæœ‰æ›´å¥½çš„å†™æ³•ï¼Œæ¬¢è¿æ prã€‚</p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            BufferedReader in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(socket.getInputStream()));</span><br><span class="line">            PrintWriter out = <span class="keyword">new</span> PrintWriter(socket.getOutputStream());</span><br><span class="line">            String line = in.readLine();</span><br><span class="line">            String passwdStr = line;</span><br><span class="line"><span class="comment">//            System.out.println(&quot;server received username and password: &quot; + passwdStr);</span></span><br><span class="line">            String isLoggedIn = pass(passwdStr);</span><br><span class="line">            out.write(isLoggedIn + <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">            out.flush();</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;0&quot;</span>.equals(isLoggedIn)) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                line = in.readLine();</span><br><span class="line">                <span class="comment">// \r\n is necessary</span></span><br><span class="line">                <span class="keyword">for</span> (Socket client : ChatServer.clients) &#123;</span><br><span class="line">                    PrintWriter clientOut = <span class="keyword">new</span> PrintWriter(client.getOutputStream());</span><br><span class="line">                    clientOut.write(line + <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">                    clientOut.flush();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (<span class="number">1</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            in.close();</span><br><span class="line">            out.close();</span><br><span class="line">            socket.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­ç”¨æˆ·åå’Œå£ä»¤æ˜¯å¦æœ‰æ•ˆï¼Œä¸ºäº†æ–¹ä¾¿å°±ç›´æ¥è¿”å›å­—ç¬¦ä¸²äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">pass</span><span class="params">(String passwdStr)</span> </span>&#123;</span><br><span class="line">    String[] userPasswd = passwdStr.split(<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (userPasswd.length != <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String username = userPasswd[<span class="number">0</span>];</span><br><span class="line">    String password = userPasswd[<span class="number">1</span>];</span><br><span class="line">    Set&lt;Map.Entry&lt;String, String&gt;&gt; passwdEntry = passwd.entrySet();</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : passwdEntry) &#123;</span><br><span class="line">        <span class="keyword">if</span> (username.equals(entry.getKey())) &#123;</span><br><span class="line">            <span class="keyword">if</span> (password.equals(entry.getValue())) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;1&quot;</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x03-ChatClient"><a href="#0x03-ChatClient" class="headerlink" title="0x03 ChatClient"></a>0x03 ChatClient</h1><p>æ¯ä¸ªå®¢æˆ·ç«¯æœ‰æ˜¯å¦ç™»å½•ä¸¤ç§çŠ¶æ€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> isLoggedIn;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> PrintWriter out;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> BufferedReader in;</span><br></pre></td></tr></table></figure><p>æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ChatClient</span> <span class="params">(String ip, <span class="keyword">int</span> port)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">Socket client = <span class="keyword">new</span> Socket(ip, port);</span><br><span class="line"><span class="comment">// è·å¾—è¾“å‡ºæµ</span></span><br><span class="line">out = <span class="keyword">new</span> java.io.PrintWriter(client.getOutputStream());</span><br><span class="line"><span class="comment">// è·å¾—è¾“å…¥æµ</span></span><br><span class="line">in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(client.getInputStream()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™»å½•æ“ä½œï¼Œå‘æœåŠ¡å™¨å†™å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ˆç”¨ <code>\t</code> åˆ†éš”ï¼‰ï¼ŒæœåŠ¡å™¨ä¼šåˆ¤æ–­å¹¶å†™å‡ºåˆ°è¿™é‡Œçš„è¾“å…¥æµã€‚</p><p>æ˜¯ä¸æ˜¯æœ‰æ›´å¥½çš„å†™æ³•ï¼Ÿæ¬¢è¿æ prã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">login</span><span class="params">(String userName,String password)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">String passwd = userName + <span class="string">&quot;\t&quot;</span> + password;</span><br><span class="line">String get;</span><br><span class="line"><span class="comment">// \r\n is necessary</span></span><br><span class="line">out.write(passwd + <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">out.flush();</span><br><span class="line">get = in.readLine();</span><br><span class="line">isLoggedIn = <span class="string">&quot;1&quot;</span>.equals(get);</span><br><span class="line"><span class="keyword">return</span> isLoggedIn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™»å‡ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">isLoggedIn = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘è¨€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">(String str)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"> <span class="keyword">if</span> (!isLoggedIn) &#123;</span><br><span class="line"> <span class="keyword">throw</span> <span class="keyword">new</span> IOException(<span class="string">&quot;Haven&#x27;t logged in!&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> out.write(str + <span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line"> out.flush();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯»å–å‘è¨€ï¼š</p><p>è¿™é‡Œæ˜¯å¦éœ€è¦åˆ›å»ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿæ¬¢è¿è¯„è®ºã€issueã€æ pr äº¤æµã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!isLoggedIn) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> in.readLine();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>æœ‰å¾ˆå¤šåœ°æ–¹å†™çš„ä¸æ˜¯å¾ˆå¥½ï¼Œä½†æœ€åä¹Ÿè¿‡äº†ï¼Œå¯èƒ½éœ€è¦ç‰¹å®šçš„æµ‹è¯•ç”¨ä¾‹ï¼Ÿ</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h60&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>åŒ–å­¦ååº”åˆ†æ</title>
    <link href="https://blog.superpung.xyz/primary-practice-h59/"/>
    <id>https://blog.superpung.xyz/primary-practice-h59/</id>
    <published>2021-05-06T13:12:11.000Z</published>
    <updated>2021-05-13T13:45:52.490Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h59</p><a id="more"></a><div class="note info"><p>æ ¹æ® reactionFile ç»™å‡ºçš„ä¸€ç³»åˆ—ååº”ï¼Œ åˆ¤æ–­ä¸€ä¸ªä½“ç³»ä¸­æ ¹æ® init ç‰©è´¨ï¼Œåˆ¤æ–­å‡ºæœ€åå¯èƒ½éƒ½å­˜åœ¨ä»€ä¹ˆç‰©è´¨</p><p>æœ¬æ–‡ä»¶ä¸­å­˜æ”¾äº†è‹¥å¹²çš„åŒ–å­¦ååº”æ–¹ç¨‹å¼ï¼ˆæ€»æ•°é‡ä¸ä¼šè¶…è¿‡ 1000 ä¸ªï¼‰</p><p>æœ¬æ–‡ä»¶ä¸­å­˜æ”¾äº†ä¸€ç³»åˆ—çš„åŒ–å­¦ååº” #è¡¨ç¤ºæ³¨é‡Š</p><p>åŒ–å­¦ååº”ä»¥ = åˆ†ä¸ºäº†å·¦ä¾§å’Œå³ä¾§ï¼›ä¸åŒåŒ–åˆç‰©ä¹‹é—´è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼</p><p>A + B = C + D æ„å‘³ç€ä½“ç³»ä¸­å¦‚æœæœ‰äº† A B å°±å¯ä»¥ç”Ÿæˆ C Dï¼ŒåŒæ ·å¦‚æœæœ‰ C D ä¹Ÿå¯ä»¥ç”Ÿæˆ A B</p><p>æ‰€æœ‰ååº”ï¼Œååº”ç‰©å‰ç³»æ•°å‡ä¸º 1</p></div><ol><li>ä»æ–‡ä»¶ä¸­è¯»å–ååº”æ–¹ç¨‹å¼ï¼Œç”¨<del>å“ˆå¸Œæ˜ å°„</del> <code>Reaction</code> ç±»å­˜å‚¨ï¼šååº”ç‰©å­˜å‚¨ä¸ºä¸€ä¸ªé›†åˆã€ç”Ÿæˆç‰©å­˜å‚¨ä¸ºä¸€ä¸ªé›†åˆï¼ŒäºŒè€…ä¸€ä¸€å¯¹åº”ï¼ˆå¯é€†ååº”ï¼Œååº”ç‰©å’Œç”Ÿæˆç‰©å¯äº’æ¢ï¼‰ï¼›</li><li>éå†æ–¹ç¨‹å¼æ˜ å°„ï¼Œå¦‚æœ result å«æœ‰æ‰€æœ‰çš„ååº”ç‰©<strong>ä¸”ä¸å«æœ‰æ‰€æœ‰çš„ç”Ÿæˆç‰©ï¼ˆä¸å«ã€å«ä¸€éƒ¨åˆ†ï¼‰</strong>ï¼Œåˆ™å°†ç”Ÿæˆç‰©åŠ å…¥ resultï¼›ä¾æ®ç”Ÿæˆç‰©åŠ ååº”ç‰©åŒç†ï¼›</li><li>è‹¥éå†ä¸€æ¬¡ï¼Œresult æœªæ·»åŠ æ–°çš„ç‰©è´¨ï¼Œè¯´æ˜ååº”è¾¾åˆ°å¹³è¡¡ã€‚</li></ol><div class="note success"><h4 id="2021-5-13-æ›´æ–°"><a href="#2021-5-13-æ›´æ–°" class="headerlink" title="2021.5.13 æ›´æ–°"></a>2021.5.13 æ›´æ–°</h4><p>æ–‡ä»¶è¯»å–æ–¹ç¨‹å¼ä¸èƒ½ç”¨å“ˆå¸Œæ˜ å°„å­˜å‚¨ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨ååº”ç‰©ç›¸åŒè€Œç”Ÿæˆç‰©ä¸åŒçš„æƒ…å†µã€‚</p><p>æ‰€ä»¥æ–°å»ºäº† <code>Reaction</code> ç±»ã€‚</p></div><p>ä¿®æ”¹åï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h59;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Reaction</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; reactant;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; product;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Reaction</span><span class="params">(Set&lt;String&gt; reactant, Set&lt;String&gt; product)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.reactant = reactant;</span><br><span class="line">        <span class="keyword">this</span>.product = product;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">getReactant</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> reactant;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">getProduct</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h59;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReactionTools</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®reactionFileç»™å‡ºçš„ä¸€ç³»åˆ—ååº”ï¼Œ åˆ¤æ–­ä¸€ä¸ªä½“ç³»ä¸­æ ¹æ®initç‰©è´¨ï¼Œåˆ¤æ–­å‡ºæœ€åå¯èƒ½éƒ½å­˜åœ¨ä»€ä¹ˆç‰©è´¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> reactionFile ä½“ç³»ä¸­åˆå§‹ååº”ç‰©</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> initComponents ä½“ç³»ä¸­åˆå§‹ååº”ç‰©</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> æœ€åä½“ç³»ä¸­å­˜åœ¨çš„å…¨éƒ¨ç‰©è´¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">findAllComponents</span><span class="params">(String reactionFile,Set&lt;String&gt; initComponents)</span></span>&#123;</span><br><span class="line">List&lt;Reaction&gt; reactions = readLines(reactionFile);</span><br><span class="line">Set&lt;String&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;(initComponents);</span><br><span class="line"><span class="keyword">int</span> newAddCount = initComponents.size();</span><br><span class="line"><span class="keyword">while</span> (newAddCount != <span class="number">0</span>) &#123;</span><br><span class="line">newAddCount = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (Reaction reaction : reactions) &#123;</span><br><span class="line"><span class="comment">// contain or not contain, that is a question</span></span><br><span class="line"><span class="keyword">if</span> (result.containsAll(reaction.getReactant()) &amp;&amp; !result.containsAll(reaction.getProduct())) &#123;</span><br><span class="line">result.addAll(reaction.getProduct());</span><br><span class="line">newAddCount++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (result.containsAll(reaction.getProduct()) &amp;&amp; !result.containsAll(reaction.getReactant())) &#123;</span><br><span class="line">result.addAll(reaction.getReactant());</span><br><span class="line">newAddCount++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Reaction&gt; <span class="title">readLines</span><span class="params">(String filename)</span> </span>&#123;</span><br><span class="line">String line;</span><br><span class="line">Reader reader = <span class="keyword">null</span>;</span><br><span class="line">List&lt;Reaction&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (reader == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">line = lineReader.readLine();</span><br><span class="line"><span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (line.trim().length() == <span class="number">0</span> || line.startsWith(<span class="string">&quot;#&quot;</span>)) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">String[] reaction = line.split(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">String left = reaction[<span class="number">0</span>];</span><br><span class="line">String right = reaction[<span class="number">1</span>];</span><br><span class="line">String[] lefts = left.split(<span class="string">&quot;\\ \\+\\ &quot;</span>);<span class="comment">// regular</span></span><br><span class="line">Set&lt;String&gt; leftSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String s : lefts) &#123;</span><br><span class="line">leftSet.add(s.trim());</span><br><span class="line">&#125;</span><br><span class="line">String[] rights = right.split(<span class="string">&quot;\\ \\+\\ &quot;</span>);</span><br><span class="line">Set&lt;String&gt; rightSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String s : rights) &#123;</span><br><span class="line">rightSet.add(s.trim());</span><br><span class="line">&#125;</span><br><span class="line">result.add(<span class="keyword">new</span> Reaction(leftSet, rightSet));</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><details class="note no-icon"><summary><p>ä¿®æ”¹å‰</p></summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h59;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReactionTools</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®reactionFileç»™å‡ºçš„ä¸€ç³»åˆ—ååº”ï¼Œ åˆ¤æ–­ä¸€ä¸ªä½“ç³»ä¸­æ ¹æ®initç‰©è´¨ï¼Œåˆ¤æ–­å‡ºæœ€åå¯èƒ½éƒ½å­˜åœ¨ä»€ä¹ˆç‰©è´¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> reactionFile ä½“ç³»ä¸­åˆå§‹ååº”ç‰©</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> initComponents ä½“ç³»ä¸­åˆå§‹ååº”ç‰©</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> æœ€åä½“ç³»ä¸­å­˜åœ¨çš„å…¨éƒ¨ç‰©è´¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">findAllComponents</span><span class="params">(String reactionFile,Set&lt;String&gt; initComponents)</span></span>&#123;</span><br><span class="line">Map&lt;Set&lt;String&gt;, Set&lt;String&gt;&gt; reactions = readLines(reactionFile);</span><br><span class="line">Set&lt;String&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;(initComponents);</span><br><span class="line">Set&lt;Map.Entry&lt;Set&lt;String&gt;, Set&lt;String&gt;&gt;&gt; reactionsEntrySet = reactions.entrySet();</span><br><span class="line"><span class="keyword">int</span> newAddCount = initComponents.size();</span><br><span class="line"><span class="keyword">while</span> (newAddCount != <span class="number">0</span>) &#123;</span><br><span class="line">newAddCount = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;Set&lt;String&gt;, Set&lt;String&gt;&gt; entry : reactionsEntrySet) &#123;</span><br><span class="line"><span class="comment">// contain or not contain, that is a question</span></span><br><span class="line"><span class="keyword">if</span> (result.containsAll(entry.getKey()) &amp;&amp; !result.containsAll(entry.getValue())) &#123;</span><br><span class="line">result.addAll(entry.getValue());</span><br><span class="line">newAddCount++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (result.containsAll(entry.getValue()) &amp;&amp; !result.containsAll(entry.getKey())) &#123;</span><br><span class="line">result.addAll(entry.getKey());</span><br><span class="line">newAddCount++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Map&lt;Set&lt;String&gt;, Set&lt;String&gt;&gt; readLines(String filename) &#123;</span><br><span class="line">String line;</span><br><span class="line">Reader reader = <span class="keyword">null</span>;</span><br><span class="line">Map&lt;Set&lt;String&gt;, Set&lt;String&gt;&gt; result = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (reader == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">line = lineReader.readLine();</span><br><span class="line"><span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (line.trim().length() == <span class="number">0</span> || line.startsWith(<span class="string">&quot;#&quot;</span>)) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">String[] reaction = line.split(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">String left = reaction[<span class="number">0</span>];</span><br><span class="line">String right = reaction[<span class="number">1</span>];</span><br><span class="line">String[] lefts = left.split(<span class="string">&quot;\\ \\+\\ &quot;</span>);<span class="comment">// regular</span></span><br><span class="line">Set&lt;String&gt; leftSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String s : lefts) &#123;</span><br><span class="line">leftSet.add(s.trim());</span><br><span class="line">&#125;</span><br><span class="line">String[] rights = right.split(<span class="string">&quot;\\ \\+\\ &quot;</span>);</span><br><span class="line">Set&lt;String&gt; rightSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (String s : rights) &#123;</span><br><span class="line">rightSet.add(s.trim());</span><br><span class="line">&#125;</span><br><span class="line">result.put(leftSet, rightSet);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><a href="https://github.com/SuperPung/Primary-Practice-Homeworks/tree/master/src/com/huawei/classroom/student/h59">Source code</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h59&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>æŠ•ç¥¨ç»Ÿè®¡</title>
    <link href="https://blog.superpung.xyz/primary-practice-h58/"/>
    <id>https://blog.superpung.xyz/primary-practice-h58/</id>
    <published>2021-05-06T13:12:08.000Z</published>
    <updated>2021-05-12T07:05:41.640Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h58</p><a id="more"></a><div class="note info"><p>fileName æ˜¯ä¸€ä¸ªæŠ•ç¥¨çš„æ˜ç»†è®°å½•ï¼Œé‡Œé¢é€è¡Œå­˜æ”¾äº†</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æŠ•ç¥¨çš„æ—¶é—´ï¼ˆyyyy-MM-dd HH:mm:ss æ ¼å¼ï¼‰ + <span class="string">\t</span> + æŠ•ç¥¨çš„å¾®ä¿¡ID + <span class="string">\t</span> + å€™é€‰äºº</span><br></pre></td></tr></table></figure><p>å­˜æ”¾æŒ‰æ—¶é—´é€’å¢ï¼ˆä½†æ˜¯å¯èƒ½å‡ºç°åŒä¸€ç§’å‡ºç°è‹¥å¹²æ¡è®°å½•çš„æƒ…å†µï¼‰ </p><p>ç°åœ¨éœ€è¦å®ŒæˆæŠ•ç¥¨ç»Ÿè®¡çš„è¿‡ç¨‹ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p><ul><li>1 ä¸ªå¾®ä¿¡ ID 1 åˆ†é’Ÿå†… æœ€å¤šæŠ• 1 ç¥¨ å¤šä½™çš„ç¥¨æ•°æ— æ•ˆ</li><li>1 ä¸ªå¾®ä¿¡ ID 10 åˆ†é’Ÿå†… æœ€å¤šåªèƒ½æŠ• 5 ç¥¨ å¤šä½™çš„ç¥¨æ— æ•ˆ</li><li>å…¶ä¸­å¾®ä¿¡ ID ä¸å›ºå®šï¼Œå€™é€‰äººå§“åä¸å›ºå®š</li><li>æµ‹è¯•çš„æ—¶å€™è¦æ±‚ 10 ä¸‡è¡Œè®°å½•å¤„ç†æ—¶é—´ä¸è¶…è¿‡ 3 ç§’</li></ul></div><p>å¾ˆæœ‰è¶£çš„ä¸€é“é¢˜ï¼Œè™½ç„¶æœ€åçš„ç»“æœå§‹ç»ˆæœ‰ 3%ï½5% çš„è¯¯å·®ï¼ˆæˆªæ­¢åˆ° 2021.5.6 æ™š 9:58ï¼Œè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°è¯¯å·®å‡ºç°çš„åœ°æ–¹ï¼‰ã€‚</p><p>å’Œä¹‹å‰åˆ†æçš„æ–‡ä»¶ç±»ä¼¼ï¼Œæ¯ä¸€è¡Œæ–‡æœ¬æœ‰ç›¸åŒçš„æ ¼å¼ï¼Œæ­¤å¤„æˆ‘æŠ½è±¡ä¸ºä¸€ä¸ª Record ç±»ã€‚</p><p>å‡è®¾å·²ç»æœ‰äº† Record ç±»ï¼Œæ ¹æ®è¦æ±‚ï¼Œéœ€è¦å¯¹æ¯ä½æŠ•ç¥¨è€…çš„æŠ•ç¥¨æ“ä½œè¿›è¡Œåˆ†æï¼Œå»é™¤æ‰é‚£äº›ä¸ç¬¦åˆè¦æ±‚çš„æ“ä½œè®°å½•ã€‚æ‰€ä»¥æŠ•ç¥¨è€…ä¹Ÿåº”æŠ½è±¡ä¸ºä¸€ Voter ç±»ã€‚</p><h1 id="0x00-Record"><a href="#0x00-Record" class="headerlink" title="0x00 Record"></a>0x00 Record</h1><p>æ­¤ Record ç±»å¯¹åº”æ–‡ä»¶çš„ä¸€è¡Œï¼Œæ‰€ä»¥åº”æœ‰æ—¶é—´ã€æŠ•ç¥¨è€…å’Œå€™é€‰äººå±æ€§ã€‚ä½†æ•´ä½“æ¥çœ‹ï¼Œæ¯æ¡è®°å½•å¯èƒ½æœ‰æ•ˆä¹Ÿå¯èƒ½æ— æ•ˆï¼Œæ‰€ä»¥å†æ·»åŠ ä¸€æœ‰æ•ˆæ€§å±æ€§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Date date;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String voterId;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String candidate;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> valid;</span><br></pre></td></tr></table></figure><p>æ„é€ æ–¹æ³•åªéœ€è¦ä¼ å…¥å‚æ•°ï¼Œåˆå§‹åŒ–å„ä¸ªå±æ€§ã€‚éš¾ç‚¹åœ¨äºæ—¶é—´ <code>Date</code> ç±»å‹çš„å¤„ç†ï¼Œéœ€è¦å¼•å…¥ <code>DateFormat</code> å’Œ <code>SimpleDateFormat</code> ç±»ã€‚æ­¤æ—¶æš‚ä¸”å°†æ¯ä¸€æ¡è®°å½•éƒ½è®¾ä¸ºæœ‰æ•ˆï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Record</span><span class="params">(String date, String voterId, String candidate)</span> </span>&#123;</span><br><span class="line">    DateFormat fmt = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.date = fmt.parse(date);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.voterId = voterId;</span><br><span class="line">    <span class="keyword">this</span>.candidate = candidate;</span><br><span class="line">    valid = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰å„ç§ getter å’Œ setterï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Date <span class="title">getDate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> date;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getVoterId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> voterId;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getCandidate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> valid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInvalid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    valid = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œç”±äºåç»­åˆ†æè®°å½•æœ‰æ•ˆæ€§çš„ä¸»è¦ä¾æ®æ˜¯æ—¶é—´ï¼Œæ‰€ä»¥è®°å½•ä¹‹é—´çš„å…ˆåé¡ºåºå¾ˆé‡è¦ã€‚æ•… Record ç±»éœ€è¦å®ç° <code>Comparable</code> æ¥å£ï¼Œé‡å†™ <code>compareTo</code> æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Record</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Record</span>&gt; </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Record o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> date.compareTo(o.date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-Voter"><a href="#0x01-Voter" class="headerlink" title="0x01 Voter"></a>0x01 Voter</h1><p>æœ€ä¸»è¦çš„éƒ¨åˆ†ï¼Œæœ¬æ¬¡å®è·µçš„æ ¸å¿ƒã€‚</p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><p>ä½œä¸ºä¸€åæŠ•ç¥¨è€…ï¼ŒåŒºåˆ«èº«ä»½çš„å°±æ˜¯ IDï¼Œæƒåˆ©æ˜¯ä¸€ç³»åˆ—çš„æŠ•ç¥¨è®°å½•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String id;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> List&lt;Record&gt; records = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_RECORDS_IN_TEN_MINUTES = <span class="number">5</span>; <span class="comment">// ååˆ†é’Ÿå†…æœ€å¤šæŠ•ç¥¨çš„æ¬¡æ•°</span></span><br></pre></td></tr></table></figure><div class="note warning"><p>å¯èƒ½ä¼šè”æƒ³åˆ°ï¼ŒRecord ç±»çš„å±æ€§ä¸­ï¼Œå…³äºæŠ•ç¥¨è€…ä¸ºä»€ä¹ˆåªå­˜ä¸€ä¸ª String è€Œä¸æ˜¯ Voterï¼Ÿ</p><p>å› ä¸º Voter ä¼šåŒ…å« Recordï¼Œé¿å…å¥—å¨ƒï¼Œå‡å°‘å†—ä½™ï¼Œè€Œä¸” Record åªæ˜¯ä¸€ä¸ªä¸­é—´ç±»ï¼Œç›®çš„æ˜¯æ ¹æ® Record çš„ voterId å°†å…¶æ·»åŠ åˆ°å¯¹åº” voter çš„ records ä¸­ï¼Œæ‰€ä»¥åªéœ€è¦ä¸€ä¸ª Stringã€‚</p></div><p>æ„é€ æ–¹æ³•åªä¼ å…¥ IDï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Voter</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶ä¸­åŒä¸€ä½æŠ•ç¥¨è€…çš„æŠ•ç¥¨è®°å½•ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥æŠ•ç¥¨è®°å½•éœ€è¦é€æ¡æ·»åŠ ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRecord</span><span class="params">(Record record)</span> </span>&#123;</span><br><span class="line">    records.add(record);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä»æ•´ä½“æ¥çœ‹ï¼ŒæŠ•ç¥¨è€…æœ‰è‹¥å¹²ä¸ªï¼Œå¯æ„æˆé›†åˆï¼Œä¸ºä¾¿äºåç»­è·å–æŠ•ç¥¨è€…çš„é›†åˆï¼Œæ­¤å¤„éœ€å®ç°å¯åºåˆ—åŒ–æ¥å£ï¼Œé‡å†™å“ˆå¸Œç å’Œç›¸ç­‰æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Voter</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">...</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id.hashCode();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Voter)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ((Voter) o).id.equals(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å»é™¤æ— æ•ˆè®°å½•"><a href="#å»é™¤æ— æ•ˆè®°å½•" class="headerlink" title="å»é™¤æ— æ•ˆè®°å½•"></a>å»é™¤æ— æ•ˆè®°å½•</h2><p>æ ¸å¿ƒä¸­çš„æ ¸å¿ƒã€‚</p><p>å†æ¬¡å›é¡¾ä¸€ä¸‹ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p><ul><li>1 ä¸ªå¾®ä¿¡ ID 1 åˆ†é’Ÿå†… æœ€å¤šæŠ• 1 ç¥¨ å¤šä½™çš„ç¥¨æ•°æ— æ•ˆ</li><li>1 ä¸ªå¾®ä¿¡ ID 10 åˆ†é’Ÿå†… æœ€å¤šåªèƒ½æŠ• 5 ç¥¨ å¤šä½™çš„ç¥¨æ— æ•ˆ</li></ul><p>ä¸ºäº†åˆ¤æ–­ï¼Œè®°å½•å­˜å‚¨å¿…é¡»æ˜¯æŒ‰ç…§æ—¶é—´é€’å¢çš„ã€‚1 åˆ†é’Ÿå†…æœ€å¤š 1 ç¥¨ï¼Œè¿™ä¸ªæ¡ä»¶å®¹æ˜“åˆ¤æ–­ï¼Œåªéœ€è¦è®°å½•å½“å‰è®°å½•çš„æ—¶é—´ï¼Œè®¡ç®—å‡º 1 åˆ†é’Ÿä¹‹åçš„æ—¶é—´ï¼Œå†å’Œä¸‹ä¸€æ¡è®°å½•æ¯”å¯¹ã€‚ä½†æ˜¯è¦ä¿è¯ 10 åˆ†é’Ÿå†…æœ€å¤š 5 ç¥¨ï¼Œå°±æœ‰äº›å›°éš¾ã€‚ä¸€æ–¹é¢ï¼Œä¸èƒ½å…ˆåªåˆ¤æ–­ 1 åˆ†é’Ÿï¼Œå› ä¸ºä¸¤ä¸ªæ¡ä»¶äº’ç›¸å½±å“ï¼Œå¿…é¡»æŒ‰æ—¶é—´é¡ºåºé€æ¡åˆ¤æ–­ï¼›å¦ä¸€æ–¹é¢ï¼Œåˆ¤æ–­ 10 åˆ†é’Ÿä¸èƒ½æŒ‰ 0ï½10ã€10ï½20 åˆ¤æ–­ï¼Œå› ä¸ºè¦ä¿è¯ä»»æ„ 10 åˆ†é’Ÿå†…éƒ½æœ€å¤šåªæœ‰ 5 æ¡ï¼Œæ‰€ä»¥æˆ‘åˆ©ç”¨ buffer ä¸€æ¬¡è¯»å…¥ 5 æ¡è®°å½•ï¼Œè¿™ 5 æ¡è®°å½•ä¸€å®šæ˜¯æ»¡è¶³ 10 åˆ†é’Ÿæ¡ä»¶çš„ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œ 1 åˆ†é’Ÿæ¡ä»¶åˆ¤æ–­ã€‚</p><div class="note primary"><h4 id="2021-5-7-æ›´æ–°"><a href="#2021-5-7-æ›´æ–°" class="headerlink" title="2021.5.7 æ›´æ–°"></a>2021.5.7 æ›´æ–°</h4><p>ä¹‹å‰è¯»å…¥ 5 æ¡è®°å½•ååªåˆ¤æ–­äº† 1 åˆ†é’Ÿæ¡ä»¶ï¼Œå¿˜è®°åˆ¤æ–­ 10 åˆ†é’Ÿæ¡ä»¶ã€‚å³è¿™ 5 æ¡è®°å½•ä¸­å¯èƒ½ä»ä¸­é—´æŸä¸€æ¡è®°å½•å¼€å§‹ï¼Œæ—¶é—´å·²ç»åœ¨ç¬¬ä¸€æ¡çš„ 10 åˆ†é’Ÿä»¥å¤–ï¼Œæ­¤æ—¶è¿™æ¡è®°å½•ä¹‹å‰çš„è®°å½•ä¸€å®šä¸ºæœ‰æ•ˆï¼Œä¸” buffer åº”åç§»ç›¸åº”è®°å½•æ¡æ•°ã€‚</p><p>ç›¸åº”åœ°ï¼Œç§»åŠ¨ååº”é‡æ–°åˆ¤æ–­ 1 åˆ†é’Ÿæ¡ä»¶å’Œ 10 åˆ†é’Ÿæ¡ä»¶ï¼Œæ•…å®šä¹‰äº† <code>isBufFinish</code> æ§åˆ¶å¾ªç¯ã€‚</p><p>ä¸”ï¼Œ5 æ¡è®°å½•å†…ï¼Œ1 åˆ†é’Ÿæ¡ä»¶åº”ä¼˜å…ˆäº 10 åˆ†é’Ÿæ¡ä»¶ï¼Œæ‰€ä»¥åŠ äº† <code>break</code>ã€‚</p><p>ä¿®æ”¹å‰ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">1007</span> ms cost!</span><br><span class="line"><span class="attribute">wang</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">5</span>.<span class="number">09</span>%</span><br><span class="line"><span class="attribute">zhao</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">4</span>.<span class="number">23</span>%</span><br><span class="line"><span class="attribute">zhang</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">3</span>.<span class="number">36</span>%</span><br><span class="line"><span class="attribute">li</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">4</span>.<span class="number">29</span>%</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">901</span> ms cost!</span><br><span class="line"><span class="attribute">wang</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">4</span>.<span class="number">65</span>%</span><br><span class="line"><span class="attribute">zhao</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">2</span>.<span class="number">7</span>%</span><br><span class="line"><span class="attribute">zhang</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">4</span>.<span class="number">57</span>%</span><br><span class="line"><span class="attribute">li</span> çš„è¯¯å·®ä¸ºï¼š<span class="number">4</span>.<span class="number">05</span>%</span><br></pre></td></tr></table></figure></div><p>buffer å†…éƒ¨åˆ¤æ–­å®Œæˆï¼Œéœ€å°† buffer æ•´ä½“åç§»ã€‚è‹¥ buffer ä¹‹åçš„è®°å½•è¿˜åœ¨ 10 åˆ†é’Ÿå†…ï¼Œä¸€å®šä¸ºæ— æ•ˆã€‚ç›´åˆ°æ‰¾åˆ°ä¸‹ä¸€æ¡ 10 åˆ†é’Ÿä¹‹å¤–çš„è®°å½•ã€‚æ¯æ¬¡ buffer åªç§»åŠ¨ä¸€æ¡è®°å½•ï¼ŒåŠ  <code>break</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeInvalidRecords</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æŒ‰æ—¶é—´æ’åº</span></span><br><span class="line">    records.sort(Record::compareTo);</span><br><span class="line">    <span class="comment">// å®¹é‡ä¸º5çš„buffer</span></span><br><span class="line">    List&lt;Record&gt; buffer = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> next = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Math.min(MAX_RECORDS_IN_TEN_MINUTES, records.size()); i++) &#123;</span><br><span class="line">        buffer.add(records.get(next++));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¯æ¡è®°å½•åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        Date curDate = buffer.get(<span class="number">0</span>).getDate();</span><br><span class="line">        Date oneMinLater = <span class="keyword">new</span> Date(curDate.getTime() + <span class="number">60000</span>);</span><br><span class="line">        Date tenMinLater = <span class="keyword">new</span> Date(curDate.getTime() + <span class="number">600000</span>);</span><br><span class="line">        <span class="keyword">boolean</span> isBufFinish = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (!isBufFinish) &#123;</span><br><span class="line">            <span class="comment">// å»é™¤ä¸æ»¡è¶³1åˆ†é’Ÿæ¡ä»¶çš„è®°å½•</span></span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; buffer.size(); i++) &#123;</span><br><span class="line">                Date nextDate = buffer.get(i).getDate();</span><br><span class="line">                <span class="keyword">if</span> (nextDate.compareTo(oneMinLater) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    buffer.get(i).setInvalid();</span><br><span class="line">                    buffer.remove(i--);</span><br><span class="line">                    <span class="keyword">if</span> (next &lt; records.size()) &#123;</span><br><span class="line">                        buffer.add(records.get(next++));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    oneMinLater = <span class="keyword">new</span> Date(nextDate.getTime() + <span class="number">60000</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ï¼ˆ5.7æ–°å¢ï¼‰åˆ¤æ–­bufferå†…æ˜¯å¦è¶…è¿‡10åˆ†é’Ÿï¼Œä¸è®¾æ— æ•ˆï¼Œåªç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; buffer.size(); i++) &#123;</span><br><span class="line">                Date nextDate = buffer.get(i).getDate();</span><br><span class="line">                <span class="keyword">if</span> (nextDate.compareTo(tenMinLater) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    tenMinLater = <span class="keyword">new</span> Date(nextDate.getTime() + <span class="number">600000</span>);</span><br><span class="line">                    <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                        buffer.remove(j);</span><br><span class="line">                        buffer.add(records.get(next++));</span><br><span class="line">                    &#125;</span><br><span class="line">                    isBufFinish = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    isBufFinish = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­bufferåçš„ä¸‹ä¸€æ¡è®°å½•æ˜¯å¦è¶…è¿‡10åˆ†é’Ÿ</span></span><br><span class="line">        <span class="keyword">while</span> (next &lt; records.size()) &#123;</span><br><span class="line">            Record nextRecord = records.get(next);</span><br><span class="line">            <span class="keyword">if</span> (nextRecord.getDate().compareTo(tenMinLater) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                nextRecord.setInvalid();</span><br><span class="line">                next++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                buffer.remove(<span class="number">0</span>);</span><br><span class="line">                buffer.add(nextRecord);</span><br><span class="line">                next++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (next &lt; records.size());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæœ€æ ¸å¿ƒçš„ç®—æ³•å·²å®Œæˆã€‚ä½† 5.7 æ›´æ–°åä»æœ‰ 4.7% ä»¥ä¸‹çš„è¯¯å·®ï¼Œä¸€å®šæ˜¯æœ‰è¾¹ç•Œæƒ…å†µæœªè€ƒè™‘ï¼Œå¾…æ›´æ–°ã€‚</p><h2 id="è·å–æœ‰æ•ˆè®°å½•"><a href="#è·å–æœ‰æ•ˆè®°å½•" class="headerlink" title="è·å–æœ‰æ•ˆè®°å½•"></a>è·å–æœ‰æ•ˆè®°å½•</h2><p>ç”¨å“ˆå¸Œæ˜ å°„å­˜å‚¨ï¼Œéå†æœ‰æ•ˆè®°å½•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Integer&gt; <span class="title">getCandidates</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map&lt;String, Integer&gt; candidates = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Record record : records) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!record.isValid()) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String candidate = record.getCandidate();</span><br><span class="line">        <span class="keyword">int</span> count = candidates.getOrDefault(candidate, <span class="number">0</span>);</span><br><span class="line">        candidates.put(candidate, count + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidates;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x02-VoteRecord"><a href="#0x02-VoteRecord" class="headerlink" title="0x02 VoteRecord"></a>0x02 VoteRecord</h1><p>é¡¶å±‚ç±»ï¼ŒæŒ‰è¡Œè¯»å–æ–‡ä»¶ï¼Œæ¯è¡Œå­˜ä¸€ Record å®ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Record&gt; <span class="title">readLines</span><span class="params">(String filename)</span> </span>&#123;</span><br><span class="line">String line = <span class="string">&quot;&quot;</span>;</span><br><span class="line">Reader reader = <span class="keyword">null</span>;</span><br><span class="line">List&lt;Record&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (reader == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">line = lineReader.readLine();</span><br><span class="line"><span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">String[] recordItems = line.split(<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">String date = recordItems[<span class="number">0</span>];</span><br><span class="line">String voterId = recordItems[<span class="number">1</span>];</span><br><span class="line">String candidate = recordItems[<span class="number">2</span>];</span><br><span class="line">Record record = <span class="keyword">new</span> Record(date, voterId, candidate);</span><br><span class="line">result.add(record);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸»ä½“ <code>calcRecording</code>ï¼Œå°†è¯»å–åˆ°çš„ Record åˆ—è¡¨å­˜å‚¨ï¼Œå­˜æ‰€æœ‰ voter çš„ idï¼Œå­˜æ‰€æœ‰ voterï¼Œå­˜æ‰€æœ‰ voterId å’Œ voter çš„å¯¹åº”å…³ç³»ï¼Œå­˜æ‰€æœ‰çš„å€™é€‰äººå’Œå…¶æ‰€å¾—ç¥¨æ•°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String,Integer&gt; <span class="title">calcRecording</span><span class="params">(String fileName)</span></span>&#123;</span><br><span class="line">List&lt;Record&gt; records = readLines(fileName);</span><br><span class="line">Set&lt;String&gt; voterIds = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">Set&lt;Voter&gt; voters = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">Map&lt;String, Voter&gt; voterMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">Map&lt;String, Integer&gt; candidates = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Record record : records) &#123;</span><br><span class="line">voterIds.add(record.getVoterId());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String voterId : voterIds) &#123;</span><br><span class="line">Voter voter = <span class="keyword">new</span> Voter(voterId);</span><br><span class="line">voters.add(voter);</span><br><span class="line">voterMap.put(voterId, voter);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Record record : records) &#123;</span><br><span class="line">Voter voter = voterMap.get(record.getVoterId());</span><br><span class="line">voter.addRecord(record);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Voter voter : voters) &#123;</span><br><span class="line">voter.removeInvalidRecords();</span><br><span class="line">Map&lt;String, Integer&gt; oneCandidates = voter.getCandidates();</span><br><span class="line"><span class="comment">//System.out.println(voter.getRecords().size());</span></span><br><span class="line">Set&lt;Map.Entry&lt;String, Integer&gt;&gt; oneCandidatesNameCount = oneCandidates.entrySet();</span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : oneCandidatesNameCount) &#123;</span><br><span class="line">String candidate = entry.getKey();</span><br><span class="line"><span class="keyword">int</span> count = entry.getValue();</span><br><span class="line"><span class="keyword">if</span> (candidates.containsKey(candidate)) &#123;</span><br><span class="line">count += candidates.get(candidate);</span><br><span class="line">&#125;</span><br><span class="line">candidates.put(candidate, count);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> candidates;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note warning"><h4 id="è¯¯å·®å¾…æ¶ˆé™¤"><a href="#è¯¯å·®å¾…æ¶ˆé™¤" class="headerlink" title="è¯¯å·®å¾…æ¶ˆé™¤"></a>è¯¯å·®å¾…æ¶ˆé™¤</h4></div><p><a href="https://github.com/SuperPung/Primary-Practice-Homeworks/tree/master/src/com/huawei/classroom/student/h58">Source code</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h58&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>ç›®å½•ä¸‹æ–‡ä»¶å¤§å°ç»Ÿè®¡</title>
    <link href="https://blog.superpung.xyz/primary-practice-h57/"/>
    <id>https://blog.superpung.xyz/primary-practice-h57/</id>
    <published>2021-05-06T13:12:05.000Z</published>
    <updated>2021-05-12T07:05:33.180Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h57</p><a id="more"></a><div class="note info"><p>ç»Ÿè®¡ä¸€ä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤§å°çš„åŠ å’Œ</p></div><p>é€’å½’ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h57;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTool</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ç»Ÿè®¡ä¸€ä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤§å°çš„åŠ å’Œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">recursiveCalcFileSize</span><span class="params">(String homeDir)</span> </span>&#123;</span><br><span class="line">File home = <span class="keyword">new</span> File(homeDir);</span><br><span class="line">calcFiles(home);</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">calcFiles</span><span class="params">(File dir)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!dir.exists() || !dir.isDirectory()) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">String[] files = dir.list();</span><br><span class="line"><span class="keyword">if</span> (files == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (String s : files) &#123;</span><br><span class="line">File file = <span class="keyword">new</span> File(dir, s);</span><br><span class="line"><span class="keyword">if</span> (file.isFile()) &#123;</span><br><span class="line">sum += file.length();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">calcFiles(file);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/SuperPung/Primary-Practice-Homeworks/tree/master/src/com/huawei/classroom/student/h57">Source code</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h57&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>æ–‡æœ¬æ–‡ä»¶å†…å®¹æ›¿æ¢</title>
    <link href="https://blog.superpung.xyz/primary-practice-h56/"/>
    <id>https://blog.superpung.xyz/primary-practice-h56/</id>
    <published>2021-05-06T13:12:02.000Z</published>
    <updated>2021-05-06T13:38:41.384Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h56</p><a id="more"></a><div class="note info"><p>å°† homeDir ç›®å½•ä¸‹ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰æ‰€æœ‰çš„æ–‡æœ¬æ–‡ä»¶ï¼ˆæ‰©å±•åä¸º .txtï¼Œæ‰©å±•åä¸æ˜¯ .txt çš„æ–‡ä»¶ä¸è¦åŠ¨ï¼Œæ‰©å±•ååŒºåˆ†å¤§å°å†™) æ–‡ä»¶ä¸­ï¼ŒorgStr æ›¿æ¢ä¸º targetStr</p><p>æ‰€æœ‰æ–‡æœ¬æ–‡ä»¶å‡ä¸º UTF-8 ç¼–ç </p></div><p>ä¸ç®€å•çš„å­—ç¬¦ä¸² replace ä¸åŒï¼Œæ­¤å¤„æ¶‰åŠæ–‡ä»¶çš„å†™å…¥æ“ä½œã€‚</p><p>ä¸ºæ–¹ä¾¿æ›¿æ¢ï¼Œåœ¨ FileTool ä¸­å®šä¹‰å±æ€§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String EXTNAME = <span class="string">&quot;txt&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> String orgStr = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> String targetStr = <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure><p>æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œéœ€è¦é€’å½’éå†æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ <code>replaceTxtFileContent</code> æ–¹æ³•ä¸­ç»™å±æ€§èµ‹å€¼åå†è°ƒç”¨ <code>readFiles</code> æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">replaceTxtFileContent</span><span class="params">(String homeDir,String orgStr,String targetStr)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.orgStr = orgStr;</span><br><span class="line"><span class="keyword">this</span>.targetStr = targetStr;</span><br><span class="line">File home = <span class="keyword">new</span> File(homeDir);</span><br><span class="line">readFiles(home);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç»å…¸çš„é€’å½’è¯»æ–‡ä»¶æ–¹æ³•ä¸­è°ƒç”¨æ›¿æ¢æ–‡ä»¶å†…å®¹æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readFiles</span><span class="params">(File dir)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!dir.exists() || !dir.isDirectory()) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">String[] files = dir.list();</span><br><span class="line"><span class="keyword">if</span> (files == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (String s : files) &#123;</span><br><span class="line">File file = <span class="keyword">new</span> File(dir, s);</span><br><span class="line"><span class="keyword">if</span> (file.isFile()) &#123;</span><br><span class="line">String filename = file.getName();</span><br><span class="line"><span class="keyword">if</span> (isTxtFile(filename)) &#123;</span><br><span class="line">replaceFileContent(file);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">readFiles(file);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ›¿æ¢æ–‡ä»¶å†…å®¹æ–¹æ³•ä¸­ï¼Œç”¨æœ€ç®€å•ç†è§£çš„æ–¹å¼ï¼Œå…ˆè¯»å‡ºæ–‡ä»¶å†…å®¹åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œå†æ›¿æ¢å…¶ä¸­çš„å­—ç¬¦ä¸²ï¼Œå†å°†æ›¿æ¢åçš„å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">replaceFileContent</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">String content = readFromTxt(file);</span><br><span class="line"><span class="keyword">if</span> (content.length() == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">String newContent = content.replace(orgStr, targetStr);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">FileWriter fw = <span class="keyword">new</span> FileWriter(file.getAbsoluteFile());</span><br><span class="line">BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(fw);</span><br><span class="line">bw.write(newContent);</span><br><span class="line">bw.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›¿æ¢ä¹‹å‰éœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œç›´æ¥å–æ‰©å±•åå†æ— å¤§å°åˆ¤æ–­å³å¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isTxtFile</span><span class="params">(String filename)</span> </span>&#123;</span><br><span class="line">String[] filenames = filename.split(<span class="string">&quot;\\.&quot;</span>);</span><br><span class="line">String ext = filenames[filenames.length - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">return</span> EXTNAME.equalsIgnoreCase(ext);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»å…¸è¯»å–æ–‡æœ¬æ–‡ä»¶çš„æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">readFromTxt</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">Reader reader = <span class="keyword">null</span>;</span><br><span class="line">StringBuffer buf = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="comment">// InputStream in=new FileInputStream(filename);</span></span><br><span class="line">reader = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(file), StandardCharsets.UTF_8);</span><br><span class="line"><span class="keyword">int</span> readed = reader.read(chars);</span><br><span class="line"><span class="keyword">while</span> (readed != -<span class="number">1</span>) &#123;</span><br><span class="line">buf.append(chars, <span class="number">0</span>, readed);</span><br><span class="line">readed = reader.read(chars);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">close(reader);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> buf.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Closeable inout)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (inout != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">inout.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h56&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>æç™½æœç”«è¯—è¯åˆ†æ</title>
    <link href="https://blog.superpung.xyz/primary-practice-h55/"/>
    <id>https://blog.superpung.xyz/primary-practice-h55/</id>
    <published>2021-05-01T12:35:37.000Z</published>
    <updated>2021-05-01T16:07:03.867Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h55</p><a id="more"></a><div class="note info"><p>ç”¨è®¡ç®—æœºæ¥è¯æ˜ï¼šä¸ºä»€ä¹ˆè¯´æç™½æ˜¯æµªæ¼«ä¸»ä¹‰è¯—äººã€æœç”«æ˜¯ç°å®ä¸»ä¹‰è¯—äººï¼Ÿ</p><p>åˆ†æä¸åŒè¯—äººä½¿ç”¨ä¸€äº›æ±‰å­—æ—¶å€™çš„ç‰¹ç‚¹ã€‚</p><ol><li>åˆ†æï¼šä¸åŒè¯—äººä½¿ç”¨ä¸€ä¸ªæ±‰å­—çš„æ—¶å€™ï¼Œå°†è¿™äº›æ±‰å­—ç»„æˆä»€ä¹ˆè¯æ±‡ä½¿ç”¨åœ¨è¯—å¥é‡Œé¢ï¼›</li><li>æŒ‰è¿™äº›è¯æ±‡å‡ºç°çš„é¢‘ç‡é«˜ä½æ’åºï¼›</li><li>åªè¦æ˜¯ä¸¤ä¸ªæ±‰å­—è¿èµ·æ¥å°±è§†ä¸ºä¸€ä¸ªè¯ã€‚</li></ol></div><p><a href="https://blog.superpung.xyz/oop-h13/">ä¸Šä¸€æ¬¡</a> åˆ†ææ¯”è¾ƒäº†çº¢æ¥¼æ¢¦çš„å‰å…«åå›å’Œåå››åå›ï¼Œè¿™ä¸€æ¬¡åˆ†ææ¯”è¾ƒæç™½å’Œæœç”«çš„è¯—è¯ã€‚</p><p>ä¸»ä½“ä»£ç å‡ ä¹å’Œ h13 ç›¸åŒã€‚</p><p>å€Ÿç”¨äº† h13 çš„ <code>getTopNWords</code> æ–¹æ³•ï¼Œå±æ€§æœ‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String[] verses = <span class="keyword">new</span> String[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">private</span> Set&lt;String&gt; charSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br></pre></td></tr></table></figure><p>æ”¹å†™ <code>getTopNWords</code> æ–¹æ³•ï¼š</p><ul><li>è¿”å›å€¼æ”¹ä¸º <code>List&lt;Map.Entry&lt;String, Integer&gt;&gt;</code> ä¾¿äºå¾—åˆ°é¢‘ç‡å€¼ï¼›</li><li>å¯¹åˆ‡å‰²åå­ä¸²çš„åˆ¤æ–­æ¡ä»¶æ”¹ä¸º <code>!charSet.contains(str.substring(0, 1)) &amp;&amp; !charSet.contains(str.substring(1))</code>ï¼Œå³ä¸¤ä¸ªå­—éƒ½ä¸åœ¨è¦åˆ¤æ–­çš„å­—é›†é‡Œæ—¶è·³è¿‡ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Map.Entry&lt;String, Integer&gt;&gt; getTopNWords(<span class="keyword">int</span> n)&#123;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line">Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">List&lt;Map.Entry&lt;String, Integer&gt;&gt; mapList;</span><br><span class="line">List&lt;Map.Entry&lt;String, Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="keyword">this</span>.verses.length; i++)&#123;</span><br><span class="line">String content = <span class="keyword">this</span>.verses[i];</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; content.length() - <span class="number">1</span>; j++) &#123;</span><br><span class="line">String str = content.substring(j, j + <span class="number">2</span>);</span><br><span class="line"><span class="keyword">if</span> (!charSet.contains(str.substring(<span class="number">0</span>, <span class="number">1</span>)) &amp;&amp; !charSet.contains(str.substring(<span class="number">1</span>))) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> count;</span><br><span class="line">count = map.getOrDefault(str, <span class="number">0</span>);</span><br><span class="line">map.put(str, count + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mapList = <span class="keyword">new</span> ArrayList&lt;&gt;(map.entrySet());</span><br><span class="line">mapList.sort((o1, o2) -&gt; o2.getValue().compareTo(o1.getValue()));</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">ans.add(mapList.get(i));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆ <code>analysis</code> æ–¹æ³•åªéœ€å¤„ç†æ–‡ä»¶è¯»å…¥å’Œåˆ¤æ–­çš„å­—å¹¶æ‰“å°ç»“æœï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">analysis</span><span class="params">(String pathFilename, String chars)</span> </span>&#123;</span><br><span class="line">String content = readFromTxt(pathFilename);</span><br><span class="line">List&lt;Map.Entry&lt;String, Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">charSet = <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList(chars.split(<span class="string">&quot;;&quot;</span>)));</span><br><span class="line">verses = content.split(<span class="string">&quot;[ï¼Œã€‚]&quot;</span>);</span><br><span class="line">result = getTopNWords(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; res : result) &#123;</span><br><span class="line">System.out.println(res.getKey() + <span class="string">&quot;\t&quot;</span> + res.getValue());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ååˆ†æä¸åŒè¯æ±‡ï¼ˆä¸å®Œæ•´ï¼‰ã€‚</p><h4 id="â€œæ˜¥-å¤-ç§‹-å†¬-æš‘-å¯’-é£-é›¨-é›ª-éœœ-éœ²â€"><a href="#â€œæ˜¥-å¤-ç§‹-å†¬-æš‘-å¯’-é£-é›¨-é›ª-éœœ-éœ²â€" class="headerlink" title="â€œæ˜¥;å¤;ç§‹;å†¬;æš‘;å¯’;é£;é›¨;é›ª;éœœ;éœ²â€"></a>â€œæ˜¥;å¤;ç§‹;å†¬;æš‘;å¯’;é£;é›¨;é›ª;éœœ;éœ²â€</h4><table><thead><tr><th>æç™½</th><th>æœç”«</th></tr></thead><tbody><tr><td>æ˜¥é£    72<br/>é£å¹    51<br/>ç§‹æœˆ    40<br/>æ¸…é£    28<br/>ç§‹é£    25<br/>ä¸œé£    24<br/>ç™½é›ª    21<br/>é•¿é£    21<br/>ç§‹æµ¦    21<br/>ç§‹éœœ    20</td><td>é£å°˜    48<br/>ç§‹é£    30<br/>é£å¹    28<br/>å¤©å¯’    27<br/>æ¸…ç§‹    25<br/>æ˜¥è‰²    20<br/>æ˜¥é£    19<br/>é£é›¨    17<br/>é«˜ç§‹    16<br/>äº‘é›¨    16</td></tr></tbody></table><p>è¿™äº›æ˜¯å‡ ä¸ªå’Œå­£èŠ‚æœ‰å…³çš„è¯æ±‡ï¼Œæç™½å’Œæœç”«åœ¨é«˜é¢‘è¯ä¸Šæœ‰æ‰€ä¸åŒï¼Œæç™½å–œæ¬¢â€œæ˜¥é£â€ã€â€œé£å¹â€ã€â€œç§‹æœˆâ€ï¼Œæœç”«å–œæ¬¢â€œé£å°˜â€ã€â€œç§‹é£â€ã€‚</p><h4 id="â€œé†‰-é…’-é¥®-æ¯â€"><a href="#â€œé†‰-é…’-é¥®-æ¯â€" class="headerlink" title="â€œé†‰;é…’;é¥®;æ¯â€"></a>â€œé†‰;é…’;é¥®;æ¯â€</h4><table><thead><tr><th>æç™½</th><th>æœç”«</th></tr></thead><tbody><tr><td>ç¾é…’    27<br/>ä¸€æ¯    21<br/>æ¯é…’    14<br/>å¯¹é…’    13<br/>ä¸‰æ¯    11<br/>æ–—é…’    11<br/>æ¯ä¸­    8<br/>é¥®é…’    8<br/>ç½®é…’    8<br/>è¡”æ¯    7</td><td>é…’é…£    10<br/>æ¯é…’    7<br/>é†‰çœ     6<br/>å—œé…’    6<br/>ç—›é¥®    6<br/>é…’æ¯    5<br/>å¯¹é…’    5<br/>æ¯ä¸­    5<br/>é…’è‚‰    5<br/>æ˜¥é…’    5</td></tr></tbody></table><p>æç™½å–é…’æ¯”æœç”«å¤šï¼Œè€Œä¸”é…’é‡ä¹Ÿæ¯”æœç”«å¤§ã€‚</p><h4 id="â€œä¸œ-è¥¿-å—-åŒ—â€"><a href="#â€œä¸œ-è¥¿-å—-åŒ—â€" class="headerlink" title="â€œä¸œ;è¥¿;å—;åŒ—â€"></a>â€œä¸œ;è¥¿;å—;åŒ—â€</h4><table><thead><tr><th>æç™½</th><th>æœç”«</th></tr></thead><tbody><tr><td>ä¸œé£    24<br/>ä¸œæµ·    23<br/>ä¸œå±±    20<br/>ä¸œæµ    19<br/>å—å±±    19<br/>è¥¿æ¥    16<br/>ä¸œå—    12<br/>åŒ—æ–—    12<br/>è¥¿æ–½    10<br/>åŒ—æµ·    10</td><td>è¥¿å—    15<br/>åŒ—é£    14<br/>åŒ—æ–—    14<br/>ä¸œè¥¿    13<br/>ä¸œæµ    12<br/>å—å›½    12<br/>è¥¿æ±Ÿ    11<br/>å—å¾    11<br/>è¥¿æˆ    9<br/>ç€¼è¥¿    9</td></tr></tbody></table><p>æç™½æ›´å–œæ¬¢ä¸œé£ï¼Œæœç”«æ€»æ˜¯æƒ³åˆ°åŒ—é£ã€‚</p><h4 id="â€œäº‘-æ—¥-æœˆ-å±±-æ²³â€"><a href="#â€œäº‘-æ—¥-æœˆ-å±±-æ²³â€" class="headerlink" title="â€œäº‘;æ—¥;æœˆ;å±±;æ²³â€"></a>â€œäº‘;æ—¥;æœˆ;å±±;æ²³â€</h4><table><thead><tr><th>æç™½</th><th>æœç”«</th></tr></thead><tbody><tr><td>ç™½æ—¥    62<br/>æ˜æœˆ    59<br/>é’äº‘    46<br/>æµ®äº‘    44<br/>ç§‹æœˆ    40<br/>ç™½äº‘    34<br/>è½æ—¥    32<br/>ä»Šæ—¥    28<br/>äº”æœˆ    26<br/>é»„æ²³    26</td><td>ä»Šæ—¥    33<br/>è½æ—¥    29<br/>ç™½æ—¥    27<br/>æµ®äº‘    23<br/>æ±Ÿå±±    22<br/>å·«å±±    20<br/>æ—¥æœˆ    20<br/>ç»ˆæ—¥    18<br/>ä»–æ—¥    18<br/>æ—¥æš®    18</td></tr></tbody></table><p>é™¤å»â€œç™½æ—¥â€ã€â€œä»Šæ—¥â€ç­‰ä¸è‡ªç„¶æ™¯è‰²æ— å…³çš„è¯æ±‡ï¼Œæç™½æ›´å–œæ¬¢â€œæ˜æœˆâ€ï¼Œè€Œæœç”«æ›´å–œæ¬¢â€œè½æ—¥â€ã€‚</p><h4 id="â€œæ°´-å¤©-ç‰-å¿ƒâ€"><a href="#â€œæ°´-å¤©-ç‰-å¿ƒâ€" class="headerlink" title="â€œæ°´;å¤©;ç‰;å¿ƒâ€"></a>â€œæ°´;å¤©;ç‰;å¿ƒâ€</h4><table><thead><tr><th>æç™½</th><th>æœç”«</th></tr></thead><tbody><tr><td>é’å¤©    54<br/>å¤©åœ°    53<br/>æµæ°´    34<br/>å¤©ä¸Š    31<br/>å¤©å­    28<br/>ç™½ç‰    27<br/>ç»¿æ°´    26<br/>å¤©ä¸‹    22<br/>æµ·æ°´    17<br/>æ±‰æ°´    16</td><td>å¤©ä¸‹    35<br/>å¤©åœ°    32<br/>å¤©å­    29<br/>å¤©å¯’    27<br/>æ±Ÿæ°´    16<br/>å¯¸å¿ƒ    13<br/>ç™½æ°´    13<br/>ç§‹æ°´    12<br/>å¤©æ„    12<br/>æ°´ä¸­    11</td></tr></tbody></table><p>å¯è§æœç”«æ›´åŠ æŒ‚å¿µå¤©ä¸‹è‹ç”Ÿï¼Œå¿§å›½å¿§æ°‘ã€‚</p><h4 id="â€œæ­Œ-æ„â€"><a href="#â€œæ­Œ-æ„â€" class="headerlink" title="â€œæ­Œ;æ„â€"></a>â€œæ­Œ;æ„â€</h4><table><thead><tr><th>æç™½</th><th>æœç”«</th></tr></thead><tbody><tr><td>æ­Œèˆ    9<br/>æ„ä¸    9<br/>äººæ„    9<br/>å´æ­Œ    9<br/>è¡Œæ­Œ    8<br/>æ­Œç™½    8<br/>é•¿æ­Œ    8<br/>æ„æ€    7<br/>æ­Œé’Ÿ    7<br/>æ£¹æ­Œ    7</td><td>æ„æ€    13<br/>ç©·æ„    11<br/>å®¢æ„    10<br/>é•¿æ­Œ    9<br/>é«˜æ­Œ    8<br/>æ­Œå…®    7<br/>æ‚²æ­Œ    6<br/>å…®æ­Œ    6<br/>ç‹‚æ­Œ    5<br/>æ„ç»    5</td></tr></tbody></table><p>å¯ä»¥çœ‹å‡ºæç™½æ›´åŠ æµªæ¼«ï¼Œå–œæ¬¢æ­Œèˆï¼›è€Œæœç”«åˆ™æ‚²æ€†å¤šæ„ï¼Œè¿â€œæ­Œâ€éƒ½æ˜¯â€œæ‚²æ­Œâ€ã€‚</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>ç”±äºä¸åŒçš„å‡ºèº«ã€ç»å†ï¼Œæç™½å’Œæœç”«ä¸¤äººçš„è¯—æ­Œåˆ›ä½œé£æ ¼æœ‰æ‰€ä¸åŒã€‚æç™½å’Œæœç”«å½¼æ­¤æ·±æƒ…å‡æœ›ï¼Œåˆç›¸äº’è¾‰æ˜ ã€‚ä¸€ä¸ªæµªæ¼«è±ªæ”¾ï¼Œä¸€ä¸ªå¿§å›½å¿§æ°‘ï¼›ä¸€ä¸ªå¯Œæœ‰æ¿€æƒ…ï¼Œä¸€ä¸ªè‡»äºæ·±åˆ»ã€‚æç™½çš„åˆ›ä½œå°šæ„éŸµï¼Œæ˜¯ç¥æ¥ä¹‹ç¬”ï¼›æœç”«çš„åˆ›ä½œå°šæ³•åº¦ï¼Œæ˜¯å…¸èŒƒåœ­è‡¬ã€‚æç™½å’Œæœç”«ä»£è¡¨ä¸¤ç§ç²¾ç¥äººæ ¼ã€ä¸¤ç§é£æ ¼å¢ƒç•Œã€‚äºŒè€…å¹¶ç«‹ï¼Œæˆä¸ºä¸¤åº§é«˜å³°ã€ä¸¤åº§ä¸°ç¢‘ï¼Œä»–ä»¬é£æ ¼ä¸åŒï¼Œå´ä¼Ÿå¤§ç›¸é€šã€‚</p><blockquote class="blockquote-center"><p>æå¯Œäºæ‰ï¼Œæœæ·±äºå­¦ã€‚å¯Œäºæ‰è€…è±ªäºæƒ…ï¼Œæ·±äºå­¦è€…ç¬ƒäºæ€§ã€‚</p><p>è¯—åŸæœ¬æ€§æƒ…ã€‚ä»¥æ€§æƒ…ä¸ºè¯—ï¼Œæ‰€ä»¥å‡Œé©¾ä¸€ä»£ï¼Œå¦™ç»åƒå¤ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h55&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>åˆ¤æ–­å¤æ‚å£ä»¤</title>
    <link href="https://blog.superpung.xyz/primary-practice-h54/"/>
    <id>https://blog.superpung.xyz/primary-practice-h54/</id>
    <published>2021-05-01T12:35:34.000Z</published>
    <updated>2021-05-01T15:06:44.957Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h54</p><a id="more"></a><div class="note info"><p>åˆ¤æ–­ä¸€ä¸ªå£ä»¤æ˜¯å¦æ˜¯ä¸€ä¸ªå¤æ‚åº¦åˆæ³•çš„å£ä»¤ã€‚</p><p>å¤æ‚åº¦åˆæ³•çš„å£ä»¤æœ‰å¦‚ä¸‹è¦æ±‚ï¼š</p><ol><li>é•¿åº¦ &gt;=8</li><li>æœ€å°‘åŒ…å«ä¸€ä¸ªæ•°å­—</li><li>æœ€å°‘åŒ…å«ä¸€ä¸ªå°å†™è‹±æ–‡å­—æ¯</li><li>æœ€å°‘åŒ…å«ä¸€ä¸ªå¤§å†™è‹±æ–‡å­—æ¯</li><li>æœ€å°‘åŒ…å«ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ ç‰¹æ®Šå­—ç¬¦å®šä¹‰ä¸º   ~!@#$%^&amp;*()_+</li></ol></div><p>å¾ˆç®€å•ï¼Œåªéœ€è¦å¯¹æ¯ä¸€ä½è¿›è¡Œåˆ¤æ–­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Set&lt;Character&gt; CHAR_SET = <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList</span><br><span class="line">(<span class="string">&#x27;~&#x27;</span>, <span class="string">&#x27;!&#x27;</span>, <span class="string">&#x27;@&#x27;</span>, <span class="string">&#x27;#&#x27;</span>, <span class="string">&#x27;$&#x27;</span>, <span class="string">&#x27;%&#x27;</span>, <span class="string">&#x27;^&#x27;</span>, <span class="string">&#x27;&amp;&#x27;</span>, <span class="string">&#x27;*&#x27;</span>, <span class="string">&#x27;(&#x27;</span>, <span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;_&#x27;</span>, <span class="string">&#x27;+&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidPassword</span><span class="params">(String password)</span></span>&#123;</span><br><span class="line"><span class="keyword">boolean</span> isLengthNotLess8, isContainDigital, isContainLowerLetter, isContainUpperLetter, isContainSpecialChar;</span><br><span class="line"><span class="keyword">int</span> digitalCount = <span class="number">0</span>, lowerLetterCount = <span class="number">0</span>, upperLetterCount = <span class="number">0</span>, specialCharCount = <span class="number">0</span>;</span><br><span class="line">isLengthNotLess8 = password.length() &gt;= <span class="number">8</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; password.length(); i++) &#123;</span><br><span class="line"><span class="keyword">char</span> cha = password.charAt(i);</span><br><span class="line"><span class="keyword">if</span> (cha &lt;= <span class="string">&#x27;9&#x27;</span> &amp;&amp; cha &gt;= <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">digitalCount++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cha &lt;= <span class="string">&#x27;z&#x27;</span> &amp;&amp; cha &gt;= <span class="string">&#x27;a&#x27;</span>) &#123;</span><br><span class="line">lowerLetterCount++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cha &lt;= <span class="string">&#x27;Z&#x27;</span> &amp;&amp; cha &gt;= <span class="string">&#x27;A&#x27;</span>) &#123;</span><br><span class="line">upperLetterCount++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (CHAR_SET.contains(cha)) &#123;</span><br><span class="line">specialCharCount++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">isContainDigital = digitalCount &gt;= <span class="number">1</span>;</span><br><span class="line">isContainLowerLetter = lowerLetterCount &gt;= <span class="number">1</span>;</span><br><span class="line">isContainUpperLetter = upperLetterCount &gt;= <span class="number">1</span>;</span><br><span class="line">isContainSpecialChar = specialCharCount &gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> isLengthNotLess8 &amp;&amp; isContainDigital &amp;&amp; isContainLowerLetter &amp;&amp; isContainUpperLetter &amp;&amp; isContainSpecialChar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h54&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>å…”å­ç¹æ®–é—®é¢˜</title>
    <link href="https://blog.superpung.xyz/primary-practice-h53/"/>
    <id>https://blog.superpung.xyz/primary-practice-h53/</id>
    <published>2021-05-01T12:35:30.000Z</published>
    <updated>2021-05-01T13:51:51.224Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h53</p><a id="more"></a><div class="note info"><p>1 å¯¹å…”å­å‡ºç”Ÿä»¥åç»è¿‡ 180 å¤©å¯ä»¥ç”Ÿå‡ºä¸€çªï¼ˆ2 å¯¹ï¼‰å…”å­ï¼Œä»¥åæ¯éš” 90 å¤©ç¹æ®–ä¸€æ¬¡ç”Ÿå‡ºä¸€çªï¼ˆ2 å¯¹ï¼‰å…”å­</p><p>æ¯å¯¹å…”å­çš„å¯¿å‘½æ˜¯ 700 å¤© </p><p>@param startCount ç¬¬ 0 å¤© å¼€å§‹çš„æ—¶å€™åˆå§‹çš„å…”å­å¯¹æ•°</p><p>@param days ç»è¿‡çš„å¤©æ•°</p><p>@return ç›®å‰ç³»ç»Ÿä¸­å­˜æ´»çš„å…”å­çš„å¯¹æ•°</p></div><p>ä¸€é“å¾ˆæœ‰è¶£çš„é¢˜ï¼Œä¸æ˜¯ç®€å•çš„é€’å½’é—®é¢˜ã€‚æ— éœ€æ‰¾è§„å¾‹ï¼Œåªéœ€æ¨¡æ‹Ÿå‡ºçœŸå®çš„å…”å­ç¹æ®–ã€‚</p><p>å¯ä»¥å‘ç°ï¼Œéœ€è¦æŠ½è±¡å‡ºå…”å­ç±»ï¼ˆä¸ªä½“ï¼‰ã€å…”å­çªç±»ï¼ˆé›†ä½“ï¼‰ï¼Œæ‰èƒ½å®Œæ•´æ¨¡æ‹Ÿå…”å­ç¹æ®–ã€‚</p><h1 id="0x00-Rabbit"><a href="#0x00-Rabbit" class="headerlink" title="0x00 Rabbit"></a>0x00 Rabbit</h1><p>æ ¹æ®è¦æ±‚ï¼Œå…”å­çš„å±æ€§æœ‰å®ƒçš„â€œå¹´é¾„â€ï¼ˆä»¥å¤©è®¡ï¼‰ã€â€œå¯¿å‘½â€ï¼ˆä»¥å¤©è®¡ï¼Œ700 å¤©ï¼‰ã€ç”Ÿå­˜çŠ¶å†µï¼ˆç”Ÿå­˜å¤©æ•°è¾¾åˆ°å¯¿å‘½åˆ™æ­»äº¡ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> dayAge;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> dead;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> lifeDayTime = <span class="number">700</span>;</span><br></pre></td></tr></table></figure><p>å…”å­åˆšå‡ºç”Ÿæ—¶ï¼Œâ€œå¹´é¾„â€ä¸º 0ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Rabbit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    dayAge = <span class="number">0</span>;</span><br><span class="line">    dead = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–å…”å­çš„â€œå¹´é¾„â€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getDayAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dayAge;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…”å­ç»è¿‡ä¸€å¤©çš„æˆé•¿ï¼ˆåªæœ‰æ­¤æ—¶ä¼šå‘ç”Ÿå…”å­æ­»äº¡ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">growOneDay</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (isDead()) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dayAge++;</span><br><span class="line">    <span class="keyword">if</span> (dayAge &gt; lifeDayTime) &#123;</span><br><span class="line">        dead = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–å…”å­çš„ç”Ÿå­˜çŠ¶å†µï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> dead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-RabbitNest"><a href="#0x01-RabbitNest" class="headerlink" title="0x01 RabbitNest"></a>0x01 RabbitNest</h1><p>ä¸Šé¢çš„ Rabbit ç±»ä»£è¡¨å…”å­ä¸ªä½“ï¼Œæ­¤ RabbitNest ç±»ä»£è¡¨å…”å­é›†ä½“ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> List&lt;Rabbit&gt; rabbits = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure><p>å…”å­çªå¼€å§‹çš„æ—¶å€™ï¼Œéœ€è¦å‡ åªåˆå§‹å…”å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">RabbitNest</span><span class="params">(<span class="keyword">int</span> startCount)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; startCount; i++) &#123;</span><br><span class="line">        Rabbit rabbit = <span class="keyword">new</span> Rabbit();</span><br><span class="line">        rabbits.add(rabbit);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡ä¸€å¤©ï¼Œå…”å­ä»¬é•¿å¤§äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rabbitsGrow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (Rabbit rabbit : rabbits) &#123;</span><br><span class="line">        rabbit.growOneDay();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡ä¸€å¤©ï¼Œæœ‰çš„å…”å­è¾¾åˆ°çš„å¯¿å‘½ï¼Œç¦»å¼€äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rabbitsDead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    rabbits.removeIf(Rabbit::isDead);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡ä¸€å¤©ï¼Œæœ‰çš„å…”å­ç”Ÿå°å…”å­äº†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rabbitsBearLittleRabbits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;Rabbit&gt; rabbitsBornOneDay = <span class="keyword">new</span> ArrayList&lt;&gt;();<span class="comment">// è¿™ä¸€å¤©ç”Ÿçš„å…”å­</span></span><br><span class="line">    <span class="keyword">for</span> (Rabbit rabbit : rabbits) &#123;<span class="comment">// è¿™ä¸€å¤©å­˜æ´»çš„å…”å­ï¼Œä¸åŒ…æ‹¬æ–°ç”Ÿçš„å…”å­</span></span><br><span class="line">        <span class="keyword">int</span> dayAge = rabbit.getDayAge();<span class="comment">// æŸå…”å­çš„å¹´é¾„</span></span><br><span class="line">        <span class="keyword">boolean</span> isRabbitCanBear = dayAge == <span class="number">180</span> || (dayAge &gt; <span class="number">180</span> &amp;&amp; (dayAge - <span class="number">180</span>) % <span class="number">90</span> == <span class="number">0</span>);<span class="comment">// å¯ä»¥ç”Ÿå°å…”å­çš„æ¡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (isRabbitCanBear &amp;&amp; !rabbit.isDead()) &#123;<span class="comment">// å¯ç”Ÿä¸”æœªæ­»äº¡</span></span><br><span class="line">            Rabbit rabbit1 = <span class="keyword">new</span> Rabbit();<span class="comment">// ç”Ÿäº†ä¸€å¯¹</span></span><br><span class="line">            Rabbit rabbit2 = <span class="keyword">new</span> Rabbit();<span class="comment">// åˆç”Ÿäº†ä¸€å¯¹</span></span><br><span class="line">            rabbitsBornOneDay.add(rabbit1);</span><br><span class="line">            rabbitsBornOneDay.add(rabbit2);<span class="comment">// åŠ å…¥åˆ°è¿™ä¸€å¤©æ–°ç”Ÿçš„å…”å­ä¸­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rabbits.addAll(rabbitsBornOneDay);<span class="comment">// è¿™ä¸€å¤©æ–°ç”Ÿçš„å…”å­åŠ å…¥åˆ°å…”å­é›†ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»è¿‡ä¸€å¤©ï¼Œå…”å­ä»¬ä¸»è¦ç»å†ä»¥ä¸Šä¸‰ä¸ªé˜¶æ®µï¼šæˆé•¿ã€æ­»äº¡ã€æ–°ç”Ÿï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">oneDayPass</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    rabbitsGrow();</span><br><span class="line">    rabbitsDead();</span><br><span class="line">    rabbitsBearLittleRabbits();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–å…”å­çªä¸­å…”å­æ•°é‡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLivingRabbits</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> rabbits.size();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x02-RabbitCount"><a href="#0x02-RabbitCount" class="headerlink" title="0x02 RabbitCount"></a>0x02 RabbitCount</h1><p>åˆ›å»ºäº†å…”å­å’Œå…”å­çªï¼Œæƒ³è¦çŸ¥é“å…”å­çš„æ•°é‡ä¹Ÿå°±ç®€å•äº†ï¼šåªéœ€åˆ›å»ºä¸€ä¸ªå…”å­çªï¼Œç»å†ç›¸åº”çš„å¤©æ•°ï¼Œå†è·å–å…¶ä¸­å…”å­çš„æ•°é‡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLivingRabbit</span><span class="params">(<span class="keyword">int</span> startCount,<span class="keyword">int</span> days)</span> </span>&#123;</span><br><span class="line">RabbitNest rabbitNest = <span class="keyword">new</span> RabbitNest(startCount);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; days; i++) &#123;</span><br><span class="line">rabbitNest.oneDayPass();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> rabbitNest.getLivingRabbits();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h53&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>è´¨å› æ•°åˆ†è§£</title>
    <link href="https://blog.superpung.xyz/primary-practice-h52/"/>
    <id>https://blog.superpung.xyz/primary-practice-h52/</id>
    <published>2021-05-01T12:35:28.000Z</published>
    <updated>2021-05-01T13:16:39.069Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h52</p><a id="more"></a><div class="note info"><p>å°† num è¿›è¡Œè´¨å› æ•°åˆ†è§£ï¼Œå°†åˆ†è§£åˆ°çš„è´¨å› æ•°æ”¾åˆ° Set é‡Œé¢è¿”å›</p></div><p>å¦‚æœæ¯æ¬¡å¯¹ num åˆ†è§£éƒ½ä»æœ€å°çš„è´¨æ•°å¼€å§‹ï¼Œé‚£ä¹ˆåˆ†è§£çš„ç»“æœä¸€å®šéƒ½æ˜¯è´¨æ•°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;Integer&gt; <span class="title">decompose</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">Set&lt;Integer&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;();<span class="comment">// åˆ†è§£çš„ç»“æœ</span></span><br><span class="line"><span class="keyword">if</span> (num &lt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;<span class="comment">// è´Ÿæ•°ä¸åˆ†è§£</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">1</span>) &#123;</span><br><span class="line">result.add(<span class="number">1</span>);<span class="comment">// 1å°±æ˜¯1</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">2</span>;<span class="comment">// å…ˆä»æœ€å°è´¨æ•°å¼€å§‹</span></span><br><span class="line"><span class="keyword">while</span> (i &lt;= num) &#123;</span><br><span class="line"><span class="keyword">if</span> (num % i == <span class="number">0</span>) &#123;</span><br><span class="line">result.add(i);<span class="comment">// æ•´é™¤ï¼Œiæ˜¯numå› æ•°</span></span><br><span class="line">num = num / i;<span class="comment">// å–å‰©ä½™éƒ¨åˆ†ï¼Œä¸‹æ¬¡ç»§ç»­åˆ†è§£</span></span><br><span class="line">i = <span class="number">2</span>;<span class="comment">// ä¸‹æ¬¡åˆ†è§£ä¸€å®šè¦ä»å¤´å¼€å§‹</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">i++;<span class="comment">// ä¸æ•´é™¤ï¼Œåªè‡ªå¢1å³å¯ï¼Œä¸å¿…ç›´æ¥åˆ°ä¸‹ä¸€ä¸ªè´¨æ•°ï¼ˆéƒ½ä¸èƒ½è¢«2æ•´é™¤ï¼Œæ€ä¹ˆå¯èƒ½è¢«4æ•´é™¤ï¼‰</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h52&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡çº¢åŒ…çš„æ¨¡æ‹Ÿç®—æ³•</title>
    <link href="https://blog.superpung.xyz/primary-practice-h51/"/>
    <id>https://blog.superpung.xyz/primary-practice-h51/</id>
    <published>2021-05-01T12:35:22.000Z</published>
    <updated>2021-05-13T13:40:51.797Z</updated>
    
    <content type="html"><![CDATA[<p>Primary Practice h51</p><a id="more"></a><div class="note info"><p>å®Œæˆåˆ†çº¢åŒ…é‡‘é¢çš„ç¨‹åºï¼Œè°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HongBao home = <span class="keyword">new</span> HongBao();</span><br></pre></td></tr></table></figure><p>è¿”å›æ¯ä¸ªäººåº”å¾—çš„çš„é’±æ•°ï¼Œåˆ†çº¢åŒ…è§„åˆ™å‚è€ƒå¾®ä¿¡çš„éšæœºçº¢åŒ…</p><p>æ­¤é¢˜ç›®ç»“æœä¸è¦æ±‚ç²¾ç¡®åŒ¹é…</p></div><p>æ¨¡æ‹Ÿä¸€ä¸ªå¾®ä¿¡éšæœºçº¢åŒ…çš„ç®—æ³•ï¼ŒæŸ¥é˜…äº†ä¸€äº›èµ„æ–™ï¼Œå¾—çŸ¥å¾®ä¿¡éšæœºçº¢åŒ…å¯èƒ½éµå¾ªä»¥ä¸‹è§„å¾‹ï¼ˆå¯é æ€§æœªçŸ¥ï¼Œä¸”è¿‡äºç®€å•åŒ–ï¼‰ï¼š</p><ol><li>å•ä¸ªçº¢åŒ…æœ€ä½é‡‘é¢ä¸º 0.01 å…ƒï¼›</li><li>å•ä¸ªçº¢åŒ…æœ€é«˜é‡‘é¢ä¸ºå‰©ä½™é’±æ•°å¯¹å‰©ä½™ä»½æ•°çš„å¹³å‡å€¼çš„äºŒå€ã€‚</li><li>æŠ¢åˆ°çº¢åŒ…çš„é’±æ•°æ€»å’Œç­‰äºå‘å‡ºçš„é’±æ•°ã€‚</li></ol><p>æ ¹æ®æ­¤ï¼Œå¯ä»¥å†™å‡ºæŠ¢åˆ°çº¢åŒ…çš„é’±æ•°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getOneRedPackage</span><span class="params">(<span class="keyword">double</span> remainMoney, <span class="keyword">int</span> remainCount)</span> </span>&#123;<span class="comment">// å‰©ä½™é’±æ•°ã€å‰©ä½™ä»½æ•°</span></span><br><span class="line"><span class="keyword">double</span> min = <span class="number">0.01</span>;<span class="comment">// æœ€å°å€¼</span></span><br><span class="line"><span class="keyword">double</span> max = remainMoney / remainCount * <span class="number">2</span>;<span class="comment">// æœ€å¤§å€¼</span></span><br><span class="line"><span class="keyword">double</span> money;<span class="comment">// æŠ¢åˆ°çš„é’±æ•°</span></span><br><span class="line"><span class="keyword">if</span> (remainCount == <span class="number">1</span>) &#123;</span><br><span class="line">money = remainMoney;<span class="comment">// å°±å‰©ä¸€ä¸ªäº†ï¼ŒæŠ¢åˆ°çš„å°±æ˜¯å‰©ä¸‹çš„é’±</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">money = Math.random() * max;<span class="comment">// å¦‚æœå‰©å¤šä¸ªï¼ŒæŠ¢åˆ°çš„å°±æ˜¯0ï½maxä¹‹é—´çš„éšæœºæ•°</span></span><br><span class="line">money = Math.max(money, min);<span class="comment">// ä¿è¯æŠ¢åˆ°çš„å¤§äºmin</span></span><br><span class="line">&#125;</span><br><span class="line">money = (<span class="keyword">double</span>) Math.round(money * <span class="number">100</span>) / <span class="number">100</span>;<span class="comment">// ä¿ç•™ä¸¤ä½ï¼Œç²¾ç¡®åˆ°åˆ†</span></span><br><span class="line"><span class="keyword">return</span> money;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>Math.random()</code> å¯ä»¥è¿”å› 0.0ï½1.0 ä¹‹é—´çš„éšæœºæ•°ã€‚</p><p>æ ¹æ®ä»¥ä¸Šç®—æ³•ï¼Œå¯ä»¥è¿›ä¸€æ­¥å†™å‡ºåˆ†çº¢åŒ…çš„ç®—æ³•ï¼š</p><div class="note info"><p>@param total  çº¢åŒ…æ€»é‡‘é¢ï¼Œä»¥å…ƒä¸ºå•ä½ï¼Œç²¾ç¡®åˆ°åˆ†ï¼Œç³»ç»Ÿæµ‹è¯•çš„æ—¶å€™ä¿è¯æ€»é‡‘é¢è‡³å°‘å¤Ÿæ¯äººåˆ†å¾— 1 åˆ†é’±</p><p>@param personCount åˆ†çº¢åŒ…çš„æ€»äººæ•° &gt; 0</p><p>@return æ¯ä¸ªäººåˆ†å¾—çš„é’±æ•°</p><p>è§„åˆ™éµå¾ªå¾®ä¿¡åˆ†çº¢åŒ…è§„åˆ™ ä¾‹å¦‚ï¼š</p><p>è¦æ±‚ æ¯äººåˆ†å¾—çš„é’±æ•°æ€»å’Œ = total</p><p>æ¯ä¸ªäººåˆ†å¾—é’±æ•°å¿…é¡»æ˜¯æ­£æ•°ï¼Œä¸”ä¸èƒ½å°‘äº 1 åˆ†</p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">double</span>[] getHongbao(<span class="keyword">double</span> total,<span class="keyword">int</span> personCount) &#123;</span><br><span class="line"><span class="keyword">if</span> (total &lt; personCount * <span class="number">0.01</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;<span class="comment">// å‘å‡ºçº¢åŒ…ä»½æ•°å¤ªå¤š/æ€»é’±æ•°å¤ªå°‘</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">double</span>[] result = <span class="keyword">new</span> <span class="keyword">double</span>[personCount];<span class="comment">// æŠ¢åˆ°é‡‘é¢æ•°ç»„</span></span><br><span class="line"><span class="keyword">int</span> remainCount = personCount;<span class="comment">// å‰©ä½™ä»½æ•°</span></span><br><span class="line"><span class="keyword">double</span> remainMoney = total;<span class="comment">// å‰©ä½™é’±æ•°</span></span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; personCount; i++) &#123;</span><br><span class="line"><span class="keyword">double</span> oneMoney;<span class="comment">// ä¸€ä¸ª</span></span><br><span class="line">oneMoney = getOneRedPackage(remainMoney, remainCount);<span class="comment">// ä¸€ä¸ª</span></span><br><span class="line">remainCount--;<span class="comment">// å‰©ä½™ä»½æ•°å‡ä¸€</span></span><br><span class="line">remainMoney -= oneMoney;<span class="comment">// å‰©ä½™é’±æ•°å‡å°‘</span></span><br><span class="line">result[i] = oneMoney;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note success"><h4 id="2021-5-13-æ›´æ–°"><a href="#2021-5-13-æ›´æ–°" class="headerlink" title="2021.5.13 æ›´æ–°"></a>2021.5.13 æ›´æ–°</h4><p>åˆ†çº¢åŒ…æ—¶æœ€å¤§å€¼ä¸èƒ½å¤ªå¤§ï¼Œå¦åˆ™å‰©ä¸‹çš„è¿ä¸€åˆ†é’±éƒ½åˆ†ä¸åˆ°äº†ã€‚</p><p>æ‰€ä»¥å¯¹æœ€å¤§å€¼éœ€è¦å¢åŠ åˆ¤æ–­ï¼Œä¿è¯å…¶ä»–äººè‡³å°‘è¦åˆ†åˆ°ä¸€åˆ†é’±ã€‚</p><p>ä¿®æ”¹åçš„ <code>getOneRedPackage</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getOneRedPackage</span><span class="params">(<span class="keyword">double</span> remainMoney, <span class="keyword">int</span> remainCount)</span> </span>&#123;</span><br><span class="line"><span class="keyword">double</span> min = <span class="number">0.01</span>;</span><br><span class="line"><span class="keyword">double</span> max1 = remainMoney / remainCount * <span class="number">2</span>;</span><br><span class="line"><span class="keyword">double</span> max2 = remainMoney - (remainCount - <span class="number">1</span>) * <span class="number">0.01</span>;</span><br><span class="line"><span class="keyword">double</span> max = Math.min(max1, max2);</span><br><span class="line"><span class="keyword">double</span> money;</span><br><span class="line"><span class="keyword">if</span> (remainCount == <span class="number">1</span>) &#123;</span><br><span class="line">money = remainMoney;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">money = Math.random() * max;</span><br><span class="line">money = Math.max(money, min);</span><br><span class="line">&#125;</span><br><span class="line">money = (<span class="keyword">double</span>) Math.round(money * <span class="number">100</span>) / <span class="number">100</span>;</span><br><span class="line"><span class="keyword">return</span> money;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><a href="https://github.com/SuperPung/Primary-Practice-Homeworks/tree/master/src/com/huawei/classroom/student/h51">Source code</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Primary Practice h51&lt;/p&gt;</summary>
    
    
    
    
    <category term="Practice" scheme="https://blog.superpung.xyz/tags/Practice/"/>
    
  </entry>
  
  <entry>
    <title>Java åå°„ç»ƒä¹ </title>
    <link href="https://blog.superpung.xyz/oop-h18/"/>
    <id>https://blog.superpung.xyz/oop-h18/</id>
    <published>2021-04-19T09:33:19.000Z</published>
    <updated>2021-04-19T12:18:54.106Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h18</p><a id="more"></a><div class="note info"><p>æ„é€ ä¸€ä¸ªã€Œç±»å‚ã€ï¼šMyClassFactory</p><p>è¯¥ç±»èƒ½å¤Ÿç”¨ä¸€ä¸ª .ini æ–‡ä»¶åˆå§‹åŒ–ï¼Œ.ini æ–‡ä»¶çš„æ ¼å¼å‚è€ƒ my_config.iniï¼Œæµ‹è¯•çš„æ—¶å€™è¿™ä¸ªæ–‡ä»¶åå­—å¯èƒ½æ”¹å˜ï¼Œæ–‡ä»¶ä¸­åŒ…æ‹¬ä¸­æ–‡ï¼Œä¸”æ–‡ä»¶ä¸€å®šä¸º UTF-8 ç¼–ç </p><p>.ini æ–‡ä»¶ä¸­æè¿°äº†è¿™ä¸ªç±»å‚èƒ½å¤ŸåŠ¨æ€åˆ›å»ºçš„<strong>ç±»</strong>å’Œç±»çš„åˆå§‹<strong>å±æ€§</strong></p><p>åŠ¨æ€<strong>æ„é€ </strong>å„ç§ç±»ï¼Œå¹¶ä¸”ç”¨.iniä¸­çš„å±æ€§<strong>åˆå§‹åŒ–</strong>ï¼Œæµ‹è¯•çš„æ—¶å€™ ç±»åå¯èƒ½å˜åŒ–ï¼Œä¾‹å¦‚  Orange.class â€¦.</p><p>æµ‹è¯•çš„æ—¶å€™ï¼Œå¯èƒ½ç»™å…¶ä»–å¯¹è±¡ï¼Œæµ‹è¯•æ—¶å€™ç»™çš„å¯¹è±¡ä¸€å®šæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><ul><li>æœ‰ç©ºçš„æ„é€ å‡½æ•°</li><li>å…¶ä¸­åªåŒ…æ‹¬äº† Integer,String ä¸¤ç§å±æ€§ï¼Œå¹¶ä¸”æœ‰ setXxx getXxx æ–¹æ³• </li></ul></div><p>å°†è¦åŠ¨æ€åˆ›å»ºçš„â€œç±»â€æŠ½è±¡æˆ Param ç±»ã€‚</p><h1 id="0x00-Param"><a href="#0x00-Param" class="headerlink" title="0x00 Param"></a>0x00 Param</h1><p>è¯¥ç±»åº”è¯¥å…·æœ‰æˆå‘˜å˜é‡ï¼Œå­˜å‚¨â€œç±»â€å’Œå±æ€§çš„å¯¹åº”å…³ç³»ï¼ˆMapï¼‰ï¼Œè€Œå±æ€§å’Œå±æ€§å€¼ä¹Ÿå…·æœ‰å¯¹åº”å…³ç³»ï¼ˆMapï¼‰ã€‚</p><p>Param åŒ…å«æˆå‘˜å˜é‡ allParamsMapï¼Œç±»å‹ä¸º <code>Map&lt;String, Map&lt;String, Object&gt;&gt;</code>ã€‚</p><p>æ„é€ æ–¹æ³•å¯ä»¥ç›´æ¥è°ƒç”¨ readLines è¯»å–æ–‡ä»¶è½¬æ¢æ ¼å¼ã€‚</p><p>æ–°å»º getParamMap æ–¹æ³•ï¼Œè¿”å›å¯¹åº”â€œç±»â€åçš„å±æ€§æ˜ å°„ <code>Map&lt;String, Object&gt;</code>ã€‚</p><p>å®Œæ•´ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h18;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Param</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * HashMap&lt;ç±»å, HashMap&lt;å±æ€§å, å±æ€§å€¼&gt;&gt;</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, Map&lt;String, Object&gt;&gt; allParamsMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Param</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        readLines(filename);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getParamMap</span><span class="params">(String className)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> allParamsMap.get(className);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readLines</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        InputStream in = <span class="keyword">new</span> FileInputStream(filename);<span class="comment">// è¯»</span></span><br><span class="line">        InputStreamReader inReader = <span class="keyword">new</span> InputStreamReader(in, StandardCharsets.UTF_8);<span class="comment">// è¯»</span></span><br><span class="line">        LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(inReader);<span class="comment">// è¯»</span></span><br><span class="line">        String line = lineReader.readLine();<span class="comment">// è¯»ä¸€è¡Œ</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (line != <span class="keyword">null</span>) &#123;<span class="comment">// æ²¡åˆ°æ–‡ä»¶æœ«å°¾</span></span><br><span class="line">            <span class="keyword">if</span> (line.startsWith(<span class="string">&quot;#&quot;</span>) || line.trim().length() == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// è¿™é‡Œä¸èƒ½ continue å¦åˆ™ä¼šæ­»å¾ªç¯</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸€è¡Œçš„æ ¼å¼ï¼š[ç±»çš„å®Œæ•´è·¯å¾„å].[å±æ€§]=&quot;ä¸€ä¸ªå­—ç¬¦ä¸²&quot;/æˆ–è€…ä¸€ä¸ªæ•´æ•°</span></span><br><span class="line">                String[] strs = line.split(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">                String left = strs[<span class="number">0</span>];<span class="comment">// [ç±»çš„å®Œæ•´è·¯å¾„å].[å±æ€§]</span></span><br><span class="line">                String right = strs[<span class="number">1</span>];<span class="comment">// &quot;ä¸€ä¸ªå­—ç¬¦ä¸²&quot;/æˆ–è€…ä¸€ä¸ªæ•´æ•°</span></span><br><span class="line">                <span class="comment">// [ç±»çš„å®Œæ•´è·¯å¾„å].[å±æ€§]</span></span><br><span class="line">                <span class="keyword">int</span> dotPos = left.lastIndexOf(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">                String className = left.substring(<span class="number">0</span>, dotPos);<span class="comment">// [ç±»çš„å®Œæ•´è·¯å¾„å]</span></span><br><span class="line">                String paramName = left.substring(dotPos + <span class="number">1</span>);<span class="comment">// [å±æ€§]</span></span><br><span class="line">                <span class="comment">// [å±æ€§]=&quot;ä¸€ä¸ªå­—ç¬¦ä¸²&quot;/æˆ–è€…ä¸€ä¸ªæ•´æ•°</span></span><br><span class="line">                Map&lt;String, Object&gt; paramMap = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (allParamsMap.containsKey(className)) &#123;</span><br><span class="line">                    paramMap = allParamsMap.get(className);<span class="comment">// å·²ç»æœ‰è¿™ä¸ªç±»åäº†ï¼ŒæŠŠé”®å¯¹åº”çš„å€¼èµ‹ç»™å®ƒ</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    paramMap = <span class="keyword">new</span> HashMap&lt;&gt;();<span class="comment">// æ²¡æœ‰è¿™ä¸ªç±»ï¼Œæ–°å»º</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// &quot;ä¸€ä¸ªå­—ç¬¦ä¸²&quot;/æˆ–è€…ä¸€ä¸ªæ•´æ•°</span></span><br><span class="line">                <span class="keyword">if</span> (right.startsWith(<span class="string">&quot;\&quot;&quot;</span>)) &#123;</span><br><span class="line">                    paramMap.put(paramName, right.substring(<span class="number">1</span>, right.length() - <span class="number">1</span>));<span class="comment">// æ˜¯ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    paramMap.put(paramName, Integer.parseInt(right));<span class="comment">// æ˜¯ä¸ªæ•´æ•°ï¼Œå¯ä»¥ç”¨ valueOf</span></span><br><span class="line">                &#125;</span><br><span class="line">                allParamsMap.put(className, paramMap);<span class="comment">// put è¿›å»</span></span><br><span class="line">            &#125;</span><br><span class="line">            line = lineReader.readLine();<span class="comment">// å†è¯»ä¸€è¡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-MyClassFactory"><a href="#0x01-MyClassFactory" class="headerlink" title="0x01 MyClassFactory"></a>0x01 MyClassFactory</h1><p>åŠ¨æ€è°ƒç”¨èµ‹å€¼ï¼Œéœ€è¦ç»™â€œç±»â€æ–°å»º setter æ–¹æ³•ï¼ˆgetter æ˜¯ Test ç”¨çš„ï¼‰ã€‚</p><p>å®Œæ•´ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h18;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClassFactory</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Param params;<span class="comment">// æˆå‘˜å˜é‡å°±æ˜¯ Param</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyClassFactory</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        params = <span class="keyword">new</span> Param(filename);<span class="comment">// æ–°å»º Paramï¼Œå¯ä»¥å­˜æ‰€æœ‰ç±»ä»¥åŠå¯¹åº”çš„å±æ€§/å±æ€§å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> clazz ç±»</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt; ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ç±»å‹</span></span><br><span class="line"><span class="comment">     * setter (getter in Test)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">createInstance</span><span class="params">(Class&lt;T&gt; clazz)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> InstantiationException, IllegalAccessException, InvocationTargetException, NoSuchMethodException </span>&#123;</span><br><span class="line">        String className = clazz.getName();<span class="comment">// ç±»å</span></span><br><span class="line">        T t = clazz.newInstance();</span><br><span class="line">        Map&lt;String, Object&gt; paramMap = params.getParamMap(className);<span class="comment">// å–ç±»çš„å±æ€§ Map</span></span><br><span class="line">        <span class="keyword">for</span> (String param : paramMap.keySet()) &#123;<span class="comment">// éå†æ‰€æœ‰å±æ€§ï¼Œä¾æ¬¡åˆ›å»º setter</span></span><br><span class="line">            Object value = paramMap.get(param);<span class="comment">// å±æ€§å€¼</span></span><br><span class="line">            String methodName = <span class="string">&quot;set&quot;</span> + param.substring(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + param.substring(<span class="number">1</span>);<span class="comment">// setter å</span></span><br><span class="line">            dynamicInvokeMethod(t, methodName, value);<span class="comment">// åŠ¨æ€è°ƒç”¨ç±» t çš„ setXxx æ–¹æ³•ï¼ŒæŠŠå±æ€§ xxx èµ‹å€¼ä¸º value</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠ¨æ€è°ƒç”¨èµ‹å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dynamicInvokeMethod</span><span class="params">(Object obj, String methodName, Object... values)</span><span class="comment">// å¤šå‚æ•°</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        Class&lt;?&gt;[] classes = <span class="keyword">new</span> Class[values.length];<span class="comment">// æ¯ä¸€ä¸ªå‚æ•°çš„ç±»å‹</span></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">            classes[i] = values[i].getClass();</span><br><span class="line">        &#125;</span><br><span class="line">        Method method = obj.getClass().getMethod(methodName, classes);<span class="comment">// åˆ›å»º Method</span></span><br><span class="line">        method.invoke(obj, values);<span class="comment">// è°ƒç”¨ Method èµ‹å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h18&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€ä¸ª Java å°æ¸¸æˆï¼ˆproï¼‰</title>
    <link href="https://blog.superpung.xyz/oop-h17/"/>
    <id>https://blog.superpung.xyz/oop-h17/</id>
    <published>2021-04-19T09:32:36.000Z</published>
    <updated>2021-04-19T10:39:47.089Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h17</p><a id="more"></a><div class="note info"><p>æŸä¸€æ¬¾æ¸¸æˆï¼Œå…¶ä¸»è¦è§’è‰²å¦‚ä¸‹:</p><ul><li>æ¸¸æˆä¸­æ¯ä¸ªå¯¹è±¡æœ‰å½“å‰ x,y åæ ‡ï¼Œåæ ‡å€¼å–å€¼èŒƒå›´ä¸ºæ•´æ•°</li><li><strong>æ¯ç§å¯¹è±¡çš„æ”»å‡»åŠ› strengthã€æ”»å‡»èŒƒå›´ rangeã€åˆå§‹å¥åº·å€¼ health é€šè¿‡BattleField.init(String fileName) ä»é…ç½®æ–‡ä»¶ä¸­åˆå§‹åŒ–</strong></li><li>éå»ºç­‘ç‰©å¯ä»¥é€šè¿‡ move(dx,dy) æ¥ç§»åŠ¨åæ ‡å€¼ï¼Œdx,dy è¡¨ç¤º xè½´,yè½´å¢é‡ï¼Œ å–å€¼èŒƒå›´ä¸ºæ•´æ•°</li><li>å¯¹è±¡ A æ”»å‡» B çš„æ—¶å€™ï¼Œè¦æ»¡è¶³ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´ç›´çº¿è·ç¦»å°äºç­‰äº A çš„æ”»å‡»èŒƒå›´ï¼Œå¦åˆ™æ”»å‡»æ— æ•ˆï¼ˆè¢«æ”»å‡»æ–¹ä¸å‡å¥åº·å€¼ï¼‰</li><li>ä»»ä½•å¯¹è±¡æœ‰ getHealth() æ–¹æ³•ï¼Œè¿”å›å½“å‰ç”Ÿå‘½å€¼ï¼Œå¦‚æœå·²ç»æ­»äº¡åˆ™è¿”å› &lt;=0 çš„ä¸€ä¸ªæ•°å­—</li><li>ä»»ä½•å¯¹è±¡æœ‰ isDestroyed() æ–¹æ³•ï¼Œå¦‚æœç”Ÿå‘½å€¼ &lt;=0 åˆ™ trueï¼Œå¦åˆ™ false</li><li>GameBase åˆå§‹ x,y å€¼åœ¨åˆ›å»ºæ—¶æŒ‡å®š</li><li>Barrack å…µè¥ï¼Œå¯ä»¥è®­ç»ƒå‡ºæ­¥æªå…µã€ RPGå…µã€å†›çŠ¬ï¼Œåˆå§‹ x,y å€¼åœ¨åˆ›å»ºæ—¶æŒ‡å®š</li><li>RifleSoldier æ­¥æªå…µï¼Œåˆå§‹ x,y å€¼å°±æ˜¯å…µè¥çš„ x,y</li><li>RPGSoldier ç«ç®­å…µï¼Œåˆå§‹ x,y å€¼å°±æ˜¯å…µè¥çš„ x,y</li><li>Dog å†›çŠ¬ï¼Œåˆå§‹ x,y å€¼å°±æ˜¯å…µè¥çš„ x,y</li><li>A.attack(B)ï¼Œè¡¨ç¤º A æ”»å‡» B å¯¹è±¡ï¼ŒB.health=B.health-A.strengthï¼Œ<strong>æ³¨æ„è¿™æ¬¡æ²¡æœ‰ä¸€å‡»æ¯™å‘½æ–¹æ³•</strong></li><li><strong>A.attack()ï¼Œè¡¨ç¤º A å¯»æ‰¾è·ç¦»ä»–æœ€è¿‘ã€éå·±æ–¹ã€ä¸”æ´»ç€çš„å¯¹è±¡ B è¿›è¡Œæ”»å‡»ï¼Œå¦‚æœæ”»å‡»èŒƒå›´å†…æ²¡æœ‰ç¬¦åˆè¦æ±‚å¯¹è±¡åˆ™ä»€ä¹ˆä¹Ÿä¸åš</strong></li><li>å¦‚æœ A.isDestroyed() åˆ™ A.attack() æ²¡æœ‰ä»»ä½•æ•ˆæœ</li></ul></div><p>éœ€è¦åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå®ç°è¯»å–æ–‡ä»¶ã€åˆ›å»ºç©å®¶å’Œè‡ªå®šä¹‰æ”»å‡»çš„åŠŸèƒ½ã€‚</p><h1 id="0x00-BattleField"><a href="#0x00-BattleField" class="headerlink" title="0x00 BattleField"></a>0x00 BattleField</h1><p>æ–°çš„ç±»ï¼Œç”¨äºåˆå§‹åŒ–å±æ€§å€¼ï¼ˆç”Ÿå‘½å€¼ã€æ”»å‡»åŠ›å’Œæ”»å‡»èŒƒå›´ï¼‰ï¼Œè¿˜åŒ…æ‹¬ç©å®¶ã€‚</p><p>åœ¨ä¸Šä¸€æ¬¡ç¨‹åºä¸­ï¼Œå±æ€§å€¼ç”± Param ç±»ä¸­çš„ä¸€äº› public å¸¸é‡æ¥å®šä¹‰ã€‚è¿™æ¬¡éœ€è¦å®ç°æ ¹æ®æ–‡ä»¶æ›´æ”¹å±æ€§å€¼ã€‚</p><p>æˆå‘˜å˜é‡åŒ…æ‹¬æ‰€æœ‰ç©å®¶åˆ—è¡¨ï¼ˆnewï¼‰ã€‚</p><p>init æ–¹æ³•ä¸­ï¼Œå¯ä»¥è°ƒç”¨ readLines è¯»å–æ–‡ä»¶è½¬æ¢æ ¼å¼ï¼Œå°†ä¿¡æ¯å­˜å…¥å­—ç¬¦ä¸²æ•°ç»„åˆ—è¡¨ä¸­ï¼Œéå†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼ˆå³æ¯ä¸€è¡Œï¼‰èµ‹å€¼ã€‚</p><p>createPlayer æ–¹æ³•ä¸­ï¼Œä¼ å…¥ç©å®¶åå­—ï¼Œå°±æ–°å»ºä¸€ä¸ªç©å®¶ï¼ŒåŠ å…¥åˆ—è¡¨ä¸­ã€‚</p><p>getAllPlayer åˆ—å‡ºæ‰€æœ‰ç©å®¶ï¼Œåªéœ€è¿”å›æ‰€æœ‰ç©å®¶åˆ—è¡¨ã€‚</p><p>readLines å’Œä¹‹å‰ç”¨çš„ä¸€æ ·ï¼Œæ ¼å¼åŒ–çš„æ—¶å€™éœ€è¦æ³¨æ„ç»†èŠ‚ã€‚</p><p>å®Œæ•´ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h17;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BattleField</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Player&gt; players = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BattleField</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        players = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(String filename)</span> </span>&#123;</span><br><span class="line">        List&lt;String[]&gt; rule = readLines(filename);</span><br><span class="line">        <span class="keyword">if</span> (rule == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (String[] ruleEle : rule) &#123;</span><br><span class="line">            setValue(ruleEle);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">createPlayer</span><span class="params">(String playerName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (playerName == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Player newPlayer = <span class="keyword">new</span> Player(playerName);</span><br><span class="line">        players.add(newPlayer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Player&gt; <span class="title">getAllPlayer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> players;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> GameBase <span class="title">createGameBase</span><span class="params">(Player player, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> GameBase(player, x, y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;String[]&gt; readLines(String filename) &#123;</span><br><span class="line">        String line = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        Reader reader = <span class="keyword">null</span>;</span><br><span class="line">        List&lt;String[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (reader == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                line = lineReader.readLine();<span class="comment">// è¯»ä¸€è¡Œ</span></span><br><span class="line">                <span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;<span class="comment">// ç©ºçš„ï¼Œæ–‡ä»¶æœ«å°¾</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (line.trim().length() == <span class="number">0</span> || line.startsWith(<span class="string">&quot;#&quot;</span>)) &#123;<span class="comment">// å»æ‰ä¸€è¡Œçš„ç©ºæ ¼ï¼Œåˆ¤æ–­æ˜¯ç©ºè¡Œæˆ–è€…å¼€å¤´æ˜¯#ï¼Œè·³è¿‡</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                result.add(line.trim().split(<span class="string">&quot;\\.|=&quot;</span>));<span class="comment">// æ­£åˆ™è¡¨è¾¾å¼ï¼Œ&quot;.&quot;éœ€è¦è½¬ä¹‰ï¼ˆï¼Ÿï¼‰å‰é¢åŠ \\ï¼Œ|å¯ä»¥ä»£è¡¨å¤šä¸ªåˆ†éš”ç¬¦</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setValue</span><span class="params">(String[] rule)</span> </span>&#123;<span class="comment">// è®¾ç½®å±æ€§ï¼Œè¿™ä¸€å®šä¸æ˜¯å¥½çš„å†™æ³•</span></span><br><span class="line">        <span class="keyword">if</span> (EnumObjectType.base.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.baseHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">                Param.baseStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">                Param.baseRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.heavyTank.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.heavyTankHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.heavyTankStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.heavyTankRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.mediumTank.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.mediumTankHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.mediumTankStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.mediumTankRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.rifleSoldier.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.rifleSoldierHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.rifleSoldierStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.rifleSoldierRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.RPGSoldier.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.RPGSoldierHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.RPGSoldierStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.RPGSoldierRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.dog.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.dogHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.dogStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.dogRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.warFactory.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.warFactoryHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.warFactoryStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.warFactoryRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.barrack.toString().equals(rule[<span class="number">0</span>])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (EnumObjectType.health.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.barrackHealth = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.strength.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.barrackStrength = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (EnumObjectType.range.toString().equals(rule[<span class="number">1</span>])) &#123;</span><br><span class="line">                Param.barrackRange = Integer.parseInt(rule[<span class="number">2</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-Player"><a href="#0x01-Player" class="headerlink" title="0x01 Player"></a>0x01 Player</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h17;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Player</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x02-GameObject"><a href="#0x02-GameObject" class="headerlink" title="0x02 GameObject"></a>0x02 GameObject</h1><p>å¢åŠ è‡ªå®šä¹‰æ”»å‡»æ–¹æ³•ã€‚</p><p>å› ä¸ºè¦åœ¨èŒƒå›´å†…æ‰¾æ‰€æœ‰å¯¹è±¡ï¼Œéœ€è¦æ–°å»ºæˆå‘˜å˜é‡ gameObjectï¼ˆGameObject åˆ—è¡¨ï¼‰ç”¨äºéå†ï¼Œæ¯æ–°å»ºå¯¹è±¡æ˜¯å­˜å…¥ï¼ˆaddï¼‰åˆ°æ­¤åˆ—è¡¨ã€‚</p><p>æ–°å»ºæˆå‘˜å˜é‡ player ä»£è¡¨æ‰€å±ç©å®¶ã€objectType ä»£è¡¨æ‰€å±ç±»å‹ã€‚åˆ†åˆ«æ–°å»º getter æ–¹æ³•å’Œ setter æ–¹æ³•ã€‚</p><p>é‡å†™ toString æ–¹æ³•ï¼Œç”¨äº debugï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;[&quot;</span>+player.getName() + <span class="string">&quot;.&quot;</span> + objectType +<span class="string">&quot; live=&quot;</span> + (!isDestroyed()) + <span class="string">&quot; x=&quot;</span> + x + <span class="string">&quot; y=&quot;</span> + y+ <span class="string">&quot; health=&quot;</span> + lifeValue+<span class="string">&quot;]&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ attack(GameObject) æ–¹æ³•ï¼ˆä¸å†æœ‰ä¸€å‡»æ¯™å‘½ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">(GameObject obj)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (obj.isDestroyed() || <span class="keyword">this</span>.isDestroyed()) &#123;<span class="comment">// æ”»å‡»è€…æˆ–è¢«æ”»å‡»è€…æ­»äº†</span></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.attackRange &gt;= <span class="keyword">this</span>.getDistance(obj)) &#123;<span class="comment">// åœ¨èŒƒå›´å†…ï¼Œå¯ä»¥æ”»å‡»</span></span><br><span class="line">String debug=<span class="keyword">this</span>+<span class="string">&quot; æ”»å‡» &quot;</span>+obj;<span class="comment">// debug éœ€è¦</span></span><br><span class="line">obj.changeHealth(<span class="keyword">this</span>.attackPower);</span><br><span class="line">debug=debug+<span class="string">&quot; æ”»å‡»å health=&quot;</span>+obj.getHealth();<span class="comment">// debug éœ€è¦</span></span><br><span class="line">System.out.println(debug);<span class="comment">// debug éœ€è¦</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»º attack() æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.isDestroyed()) &#123;<span class="comment">// åˆ¤æ–­ï¼Œæ­¤å¤„å¯çœ</span></span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">double</span> min = <span class="keyword">this</span>.attackRange;<span class="comment">// å¯æ”»å‡»çš„æœ€å¤§è·ç¦»</span></span><br><span class="line"><span class="keyword">for</span> (GameObject obj : GameObject.gameObjects) &#123;<span class="comment">// éå†æ‰€æœ‰å¯¹è±¡ï¼Œæ‰¾æœ€è¿‘çš„</span></span><br><span class="line"><span class="keyword">if</span> (obj.isDestroyed() || obj.player == <span class="keyword">this</span>.player) &#123;<span class="comment">// è¢«æ”»å‡»è€…æ­»äº†æˆ–è€…æ˜¯å‹å†›</span></span><br><span class="line"><span class="keyword">continue</span>;<span class="comment">// ç»§ç»­æ‰¾ï¼Œè¿™é‡Œä¸èƒ½ return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.getDistance(obj) &lt;= min) &#123;<span class="comment">// æ›´è¿‘çš„</span></span><br><span class="line">min = <span class="keyword">this</span>.getDistance(obj);<span class="comment">// æ›´è¿‘çš„è·ç¦»</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (GameObject obj : GameObject.gameObjects) &#123;<span class="comment">// ä¸Šé¢æ‰¾åˆ°äº†æœ€è¿‘çš„è·ç¦»</span></span><br><span class="line"><span class="keyword">if</span> (obj.isDestroyed() || obj.player == <span class="keyword">this</span>.player) &#123;<span class="comment">// è¢«æ”»å‡»è€…æ­»äº†æˆ–è€…æ˜¯å‹å†›</span></span><br><span class="line"><span class="keyword">continue</span>;<span class="comment">// ç»§ç»­æ‰¾é‚£ä¸ªè·ç¦»æ˜¯æœ€è¿‘è·ç¦»çš„å¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.getDistance(obj) - min &lt; <span class="number">0.000001</span>) &#123;<span class="comment">// æ‰¾åˆ°äº†</span></span><br><span class="line">attack(obj);<span class="comment">// ç›´æ¥è°ƒç”¨ä¸Šé¢çš„æ–¹æ³•æ”»å‡»</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x03-Others"><a href="#0x03-Others" class="headerlink" title="0x03 Others"></a>0x03 Others</h1><p>Param ä¸­å˜é‡ä¸å†æ˜¯ finalã€‚</p><p>ç»§æ‰¿ GameObject çš„ç±»å‡éœ€åœ¨æ„é€ æ–¹æ³•ä¸­è°ƒç”¨ setObjectType æ–¹æ³•ï¼ŒæŒ‡æ˜è‡ªèº«ç±»å‹ï¼Œä¾¿äº debugã€‚</p><p>ç»§æ‰¿ GameObject çš„ç±»çš„æ„é€ æ–¹æ³•å‡éœ€ä¼ å…¥å‚æ•°ã€Œç©å®¶ã€ã€‚</p><p>gameBase åˆ›å»º barrack å’Œ warFactory ã€barrack å’Œ warFactory åˆ›å»º soldierã€dog å’Œ tank æ—¶ï¼Œéœ€ä¼ å…¥è‡ªèº«çš„ getPlayerã€‚</p><p>buildingã€tank å’Œ soldier èµ·ä¼ é€’ä½œç”¨ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h17&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Java Socket ç»ƒä¹ </title>
    <link href="https://blog.superpung.xyz/oop-h16/"/>
    <id>https://blog.superpung.xyz/oop-h16/</id>
    <published>2021-04-19T08:55:49.000Z</published>
    <updated>2021-04-19T10:39:56.672Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h16</p><a id="more"></a><div class="note info"><p>å®Œæˆ MyServer ç±»ï¼Œéšæœºæµ‹è¯•å‘æœåŠ¡å™¨ç«¯è¾“å…¥å‡ å¥è¯ï¼Œè¦æ±‚æœåŠ¡å™¨ç«¯åŸå°ä¸åŠ¨è¿”å›ï¼Œå‘æœåŠ¡å™¨ç«¯è¾“å…¥ bye ï¼Œè¡¨ç¤ºæ–­å¼€è¿æ¥ã€‚</p></div><p>å¼€å§‹æ²¡æœ‰å®Œå…¨ç†è§£ï¼Œéœ€è¦å¯åŠ¨çº¿ç¨‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MyServer.java</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h16;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyServer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startListen</span><span class="params">(<span class="keyword">int</span> port)</span> </span>&#123;</span><br><span class="line">Thread serverThread = <span class="keyword">new</span> ServerThread(port);</span><br><span class="line">serverThread.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–°å»º ServerThread ç±»ç»§æ‰¿ Threadï¼Œç”¨äºç›‘å¬ç«¯å£ã€‚</p><p>ä¼šç”¨åˆ°çš„æˆå‘˜å˜é‡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> port;<span class="comment">// ç«¯å£</span></span><br><span class="line"><span class="keyword">private</span> ServerSocket server;<span class="comment">// æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">private</span> Socket socket;<span class="comment">// socket</span></span><br><span class="line"><span class="keyword">private</span> InputStream in;<span class="comment">// è¾“å…¥æµ</span></span><br><span class="line"><span class="keyword">private</span> OutputStream out;<span class="comment">// è¾“å‡ºæµ</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_LEN = <span class="number">100</span>;<span class="comment">// æœ€å¤§é•¿åº¦</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String STOP_STRING = <span class="string">&quot;bye&quot;</span> + <span class="string">&quot;\r\n&quot;</span>;<span class="comment">// æ–­å¼€è¿æ¥å£ä»¤</span></span><br></pre></td></tr></table></figure><p>æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ServerThread</span><span class="params">(<span class="keyword">int</span> port)</span> </span>&#123;</span><br><span class="line">server = <span class="keyword">null</span>;</span><br><span class="line">socket = <span class="keyword">null</span>;</span><br><span class="line">in = <span class="keyword">null</span>;</span><br><span class="line">out = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">this</span>.port = port;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡å†™ <code>run</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;<span class="comment">// Test æ²¡æœ‰æ•è·å¼‚å¸¸ï¼Œè¿™é‡Œä¸èƒ½æŠ›å‡º</span></span><br><span class="line">server = <span class="keyword">new</span> ServerSocket(port);<span class="comment">// æœåŠ¡å™¨</span></span><br><span class="line">socket = server.accept();<span class="comment">// ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥</span></span><br><span class="line">in = socket.getInputStream();<span class="comment">// è·å–å®¢æˆ·ç«¯è¾“å…¥æµ</span></span><br><span class="line">out = socket.getOutputStream();<span class="comment">// è·å–å®¢æˆ·ç«¯è¾“å‡ºæµ</span></span><br><span class="line"><span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[MAX_LEN];<span class="comment">// è¯»å–çš„å­—èŠ‚</span></span><br><span class="line"><span class="keyword">int</span> readed = in.read(data);<span class="comment">// ä»è¾“å…¥æµè¯»ï¼Œè¯»å–çš„é•¿åº¦</span></span><br><span class="line">String line = <span class="keyword">new</span> String(data, <span class="number">0</span>, readed);<span class="comment">// å­—ç¬¦ä¸²æ ¼å¼</span></span><br><span class="line"><span class="keyword">while</span> (!STOP_STRING.equals(line)) &#123;<span class="comment">// æ²¡æ–­å¼€</span></span><br><span class="line">out.write(line.getBytes());<span class="comment">// å‘è¾“å‡ºæµå†™</span></span><br><span class="line">readed = in.read(data);<span class="comment">// å†è¯»</span></span><br><span class="line">line = <span class="keyword">new</span> String(data, <span class="number">0</span>, readed);</span><br><span class="line">&#125;</span><br><span class="line">in.close();</span><br><span class="line">out.close();</span><br><span class="line">socket.close();</span><br><span class="line">server.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">close(in);</span><br><span class="line">close(out);</span><br><span class="line">close(socket);</span><br><span class="line">close(server);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Closeable inout)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (inout != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">inout.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>ç»ˆäºå¿™å®Œäº†ï¼Œä¸€å¹´çš„å¤§åˆ›ç»“æŸäº†â€¦â€¦</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h16&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Java ç±»åŠæ¥å£ç»ƒä¹ </title>
    <link href="https://blog.superpung.xyz/oop-h20/"/>
    <id>https://blog.superpung.xyz/oop-h20/</id>
    <published>2021-04-07T08:32:30.000Z</published>
    <updated>2021-04-07T13:59:00.964Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h20</p><a id="more"></a><div class="note info"><p>å®šä¹‰åˆé€‚çš„ç±»ã€æ¥å£ï¼Œä½¿å¾—ä¸‹é¢çš„ä»£ç ç¼–è¯‘å¹¶èƒ½æ­£ç¡®è¿è¡Œã€‚</p></div><p>Testï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h20;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**å®šä¹‰åˆé€‚çš„ç±»ã€æ¥å£ï¼Œä½¿å¾—ä¸‹é¢çš„ä»£ç ç¼–è¯‘å¹¶èƒ½æ­£ç¡®è¿è¡Œ*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">A a = <span class="keyword">new</span> D();<span class="comment">// Dç»§æ‰¿/å®ç°A</span></span><br><span class="line">C c = <span class="keyword">new</span> D();<span class="comment">// Dç»§æ‰¿/å®ç°C</span></span><br><span class="line">D d = <span class="keyword">new</span> D();</span><br><span class="line"> </span><br><span class="line">System.out.println(<span class="string">&quot;pass 1&quot;</span>);</span><br><span class="line"></span><br><span class="line">B b = c;<span class="comment">// Cç»§æ‰¿/å®ç°B</span></span><br><span class="line">System.out.println(<span class="string">&quot;pass 2&quot;</span>);</span><br><span class="line"></span><br><span class="line">a = d;</span><br><span class="line">System.out.println(<span class="string">&quot;pass 3&quot;</span>);</span><br><span class="line"></span><br><span class="line">c=<span class="keyword">new</span> E();<span class="comment">// Eç»§æ‰¿/å®ç°C</span></span><br><span class="line">System.out.println(<span class="string">&quot;pass 4&quot;</span>);</span><br><span class="line"></span><br><span class="line">a=<span class="keyword">new</span> A();</span><br><span class="line"><span class="keyword">if</span> (!(a <span class="keyword">instanceof</span> B)) &#123;<span class="comment">// Aä¸ç»§æ‰¿/å®ç°B</span></span><br><span class="line">System.out.println(<span class="string">&quot;pass 5&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!(c <span class="keyword">instanceof</span> A)) &#123;<span class="comment">// Cä¸ç»§æ‰¿/å®ç°A</span></span><br><span class="line">System.out.println(<span class="string">&quot;pass 6&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!(c <span class="keyword">instanceof</span> D)) &#123;<span class="comment">// Cä¸ç»§æ‰¿/å®ç°D</span></span><br><span class="line">System.out.println(<span class="string">&quot;pass 7&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»¼ä¸Šï¼š</p><ul><li>D ç»§æ‰¿/å®ç° A</li><li>D ç»§æ‰¿/å®ç° C</li><li>C ç»§æ‰¿/å®ç° B</li><li>E ç»§æ‰¿/å®ç° C</li><li>A ä¸ç»§æ‰¿/å®ç° B</li><li>C ä¸ç»§æ‰¿/å®ç° A</li><li>C ä¸ç»§æ‰¿/å®ç° D</li></ul><p>D åŒæ—¶ç»§æ‰¿/å®ç° A å’Œ Cï¼Œç”±äº Java ä¸æ”¯æŒå¤šç»§æ‰¿ï¼ŒçŒœæµ‹å¯èƒ½ä¸ºå¤šé‡ç»§æ‰¿â€”â€”ç”±äº C ä¸ç»§æ‰¿/å®ç° Aã€A ä¸ç»§æ‰¿/å®ç° Bã€C ç»§æ‰¿/å®ç° Bï¼Œåˆ™ A å’Œ C ä¹‹é—´ä¸å­˜åœ¨ç»§æ‰¿å…³ç³»ã€‚æ‰€ä»¥å¾—å‡ºç»“è®ºï¼šA å’Œ C ä¸€ä¸ªä¸ºæ¥å£ã€ä¸€ä¸ªä¸ºç±»ï¼ŒD ç»§æ‰¿äº†ç±»ã€å®ç°äº†æ¥å£ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h20;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h20;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h20;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h20;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">D</span> <span class="keyword">extends</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h20;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">E</span> <span class="keyword">implements</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h20&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Java ç±»ã€é›†åˆã€æ–‡ä»¶ç»ƒä¹ </title>
    <link href="https://blog.superpung.xyz/oop-h19/"/>
    <id>https://blog.superpung.xyz/oop-h19/</id>
    <published>2021-04-07T08:32:26.000Z</published>
    <updated>2021-04-07T13:40:06.316Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h19</p><a id="more"></a><h1 id="q01"><a href="#q01" class="headerlink" title="q01"></a>q01</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h19.q01;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String speakStr;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        speakStr = <span class="string">&quot;wangwang&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">speak</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.speakStr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="q02"><a href="#q02" class="headerlink" title="q02"></a>q02</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h19.q02;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h19.q02;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="q03"><a href="#q03" class="headerlink" title="q03"></a>q03</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h19.q03;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayUtil</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> min = array[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> arrayEle : array) &#123;</span><br><span class="line">            min = Math.min(min, arrayEle);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="q04"><a href="#q04" class="headerlink" title="q04"></a>q04</h1><p>å»æ‰é‡å¤å­—ç¬¦ã€‚</p><p>ç¬¬ä¸€æ¬¡å‡ºç°çš„å­—ç¬¦å»ºç«‹ä¸€ä¸ªé›†åˆï¼Œåªéœ€è¦ä¾æ¬¡åˆ¤æ–­å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼šè‹¥åœ¨æ­¤é›†åˆä¸­ï¼Œåˆ™è·³è¿‡ï¼›å¦åˆ™åŠ å…¥æ­¤é›†åˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h19.q04;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StrUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StrUtil</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">removeDulpicatedChar</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> curChar = str.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (!isInSet(curChar, set)) &#123;</span><br><span class="line">                result.append(curChar);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInSet</span><span class="params">(<span class="keyword">char</span> cha, StringBuilder set)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; set.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cha == set.charAt(i)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="q05"><a href="#q05" class="headerlink" title="q05"></a>q05</h1><div class="note info"><p>å®Œæˆ StudentUtilï¼Œä½¿å…¶å…·æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š</p><ul><li><p>ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ <code>å­¦ç”Ÿå§“å,ç§‘ç›®,å•ç§‘æˆç»©;</code>ï¼ˆè§ score.txtï¼Œè¿™ä¸ªæ–‡ä»¶è‚¯å®šæ˜¯UTF-8 ç¼–ç ï¼‰</p></li><li><p>å°†æ‰€æœ‰å­¦ç”ŸæŒ‰æ€»æˆç»©ä»é«˜åˆ°ä½æ’åï¼Œå¦‚æœæˆç»©å¹¶åˆ—åˆ™æŒ‰è¯­æ–‡ä»é«˜åˆ°ä½æ’åˆ—ï¼Œå¦‚æœè¯­æ–‡æˆç»©ä¹Ÿç›¸åŒï¼Œåˆ™æŒ‰æ•°å­¦ç”±é«˜åˆ°ä½æ’åˆ—ï¼Œå¦‚æœæ•°å­¦æˆç»©ä¹Ÿç›¸åŒï¼Œåˆ™æŒ‰è‹±è¯­ç”±é«˜åˆ°ä½æ’åˆ—ï¼ˆä¸ä¼šå‡ºç°æ€»åˆ†ç›¸åŒ&amp;&amp;è¯­æ–‡ç›¸åŒ&amp;&amp;æ•°å­¦ç›¸åŒ&amp;&amp;è‹±è¯­ç›¸åŒæƒ…å†µ)     </p></li></ul></div><p>é¦–å…ˆåº”è¯»å–æ–‡ä»¶ï¼Œå…¶æ¬¡æŒ‰æ ¼å¼å­˜å‚¨æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œç„¶åå¯¹æ•°æ®è¿›è¡Œæ’åºã€‚</p><h2 id="0x00-è¯»å–æ–‡ä»¶-readLines"><a href="#0x00-è¯»å–æ–‡ä»¶-readLines" class="headerlink" title="0x00 è¯»å–æ–‡ä»¶ readLines"></a>0x00 è¯»å–æ–‡ä»¶ <code>readLines</code></h2><p>Test æ²¡æœ‰æ•æ‰å¼‚å¸¸ï¼Œæ‰€ä»¥æ­¤å¤„ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œåº”æ•æ‰ã€‚</p><p><code>FileReader</code> è¯»æ–‡ä»¶ï¼Œ<code>LineNumberReader</code> è¯»è¡Œã€‚è¯»å–çš„åŒæ—¶å»æ‰äº†æœ«å°¾çš„åˆ†å·ï¼Œä¸”ç”¨é€—å·åˆ†å‰²åå­˜æ”¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚</p><p>æœ€ç»ˆè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„çš„åˆ—è¡¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String[]&gt; readLines(String filename) &#123;</span><br><span class="line">    String line = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    Reader reader = <span class="keyword">null</span>;</span><br><span class="line">    List&lt;String[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (reader == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            line = lineReader.readLine();</span><br><span class="line">            <span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(line.replace(<span class="string">&quot;;&quot;</span>, <span class="string">&quot;&quot;</span>).split(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="0x01-æ ¼å¼åŒ–æ¯è¡Œæ•°æ®-Score"><a href="#0x01-æ ¼å¼åŒ–æ¯è¡Œæ•°æ®-Score" class="headerlink" title="0x01 æ ¼å¼åŒ–æ¯è¡Œæ•°æ® Score"></a>0x01 æ ¼å¼åŒ–æ¯è¡Œæ•°æ® <code>Score</code></h2><p>ä¸Šé¢ç”¨å­—ç¬¦ä¸²æ•°ç»„å­˜æ”¾ä¸€è¡Œæ•°æ®ï¼Œä½†æœ€ç»ˆéœ€è¦æ’åºï¼Œæ˜¾ç„¶å­—ç¬¦ä¸²æ•°ç»„ä¸åˆ©äºæ’åºã€‚</p><p>å¯ä»¥æŠŠå­¦ç”Ÿçš„æˆç»©æŠ½è±¡ä¸ºä¸€ä¸ª <code>Score</code> ç±»ã€‚æ³¨æ„ä¸æ˜¯æŠŠä¸€è¡Œæ•°æ®æŠ½è±¡ä¸ºä¸€ä¸ªç±»ï¼Œå› ä¸ºå¾ˆæœ‰å¯èƒ½å­˜åœ¨è®¸å¤šè¡Œå¯¹åº”åŒä¸€ä¸ªå­¦ç”Ÿçš„æƒ…å†µã€‚</p><p>æ ¹æ®è¦æ±‚ï¼Œæ’åºçš„ä¾æ®ä¾æ¬¡æ˜¯æ€»æˆç»©ã€è¯­æ–‡æˆç»©ã€æ•°å­¦æˆç»©ã€è‹±è¯­æˆç»©ï¼Œå…¶ä»–æˆç»©éƒ½ä¸é‡è¦ã€‚æ‰€ä»¥è¿™ä¸ªç±»çš„æˆå‘˜å˜é‡åº”è¯¥åŒ…æ‹¬å§“åã€æ€»æˆç»©ã€è¯­æ–‡æˆç»©ã€æ•°å­¦æˆç»©å’Œè‹±è¯­æˆç»©ã€‚</p><p><code>Score</code> ç±»çš„åˆå§‹åŒ–å³ç»™è¿™äº”ä¸ªå˜é‡èµ‹å€¼ã€‚ä¸ºäº†ä¾¿äºæ’åºï¼Œéœ€è¦å®ç° <code>Comparable</code> æ¥å£ï¼Œé‡å†™ <code>compareTo</code> æ–¹æ³•ï¼Œå†…å®¹å°±æ˜¯æ’åºçš„è§„åˆ™ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h19.q05;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Score</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Object</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> totalScore;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> chineseScore;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> mathScore;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> englishScore;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Score</span><span class="params">(String name, <span class="keyword">int</span> chineseScore, <span class="keyword">int</span> mathScore, <span class="keyword">int</span> englishScore, <span class="keyword">int</span> totalScore)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.chineseScore = chineseScore;</span><br><span class="line">        <span class="keyword">this</span>.mathScore = mathScore;</span><br><span class="line">        <span class="keyword">this</span>.englishScore = englishScore;</span><br><span class="line">        <span class="keyword">this</span>.totalScore = totalScore;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Score)) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.totalScore &gt; ((Score) o).totalScore) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.totalScore &lt; ((Score) o).totalScore) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.chineseScore &gt; ((Score) o).chineseScore) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.chineseScore &lt; ((Score) o).chineseScore) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.mathScore &gt; ((Score) o).mathScore) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.mathScore &lt; ((Score) o).mathScore) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.compare(<span class="keyword">this</span>.englishScore, ((Score) o).englishScore);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="0x02-æ¯”è¾ƒå™¨-ScoreComparator"><a href="#0x02-æ¯”è¾ƒå™¨-ScoreComparator" class="headerlink" title="0x02 æ¯”è¾ƒå™¨ ScoreComparator"></a>0x02 æ¯”è¾ƒå™¨ <code>ScoreComparator</code></h2><p>å®ç° <code>Comparator</code> æ¥å£ï¼Œé‡å†™ <code>compare</code> æ–¹æ³•ã€‚</p><p>ä¸ºå¢å¼ºå¯æ‰©å±•æ€§ï¼Œå®šä¹‰äº†æ’åºæ–¹å¼ï¼ˆå‡åº/é™åºï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h19.q05;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScoreComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Score</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1 asc</span></span><br><span class="line"><span class="comment">     * -1 des</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> order;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ScoreComparator</span><span class="params">(<span class="keyword">int</span> order)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.order = order;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Score s1, Score s2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = s1.compareTo(s2);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.order == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="0x03-æ ¼å¼è½¬æ¢-initScoreLists"><a href="#0x03-æ ¼å¼è½¬æ¢-initScoreLists" class="headerlink" title="0x03 æ ¼å¼è½¬æ¢ initScoreLists"></a>0x03 æ ¼å¼è½¬æ¢ <code>initScoreLists</code></h2><p>ä¸Šé¢è·å–äº†æ–‡æœ¬çš„ä¸€è¡Œä¸ºå­—ç¬¦ä¸²æ•°ç»„ï¼Œéœ€è¦å…ˆè½¬æ¢ä¸ºåˆ—è¡¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> scoreLine ä¸€è¡Œæ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 0 å§“å 1 è¯­æ–‡ 2 æ•°å­¦ 3 è‹±è¯­ 4 å½“å‰æˆç»©</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">line2list</span><span class="params">(String[] scoreLine, List&lt;String&gt; scoreList)</span> </span>&#123;</span><br><span class="line">    String name = scoreLine[<span class="number">0</span>];</span><br><span class="line">    String object = scoreLine[<span class="number">1</span>];</span><br><span class="line">    String score = scoreLine[<span class="number">2</span>];</span><br><span class="line">    scoreList.set(<span class="number">0</span>, name);</span><br><span class="line">    scoreList.set(<span class="number">4</span>, score);</span><br><span class="line">    <span class="keyword">switch</span> (object) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;è¯­æ–‡&quot;</span>:</span><br><span class="line">            scoreList.set(<span class="number">1</span>, score);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;æ•°å­¦&quot;</span>:</span><br><span class="line">            scoreList.set(<span class="number">2</span>, score);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;è‹±è¯­&quot;</span>:</span><br><span class="line">            scoreList.set(<span class="number">3</span>, score);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åˆå§‹åŒ– <code>Score</code> ç±»å‹åˆ—è¡¨æ—¶ï¼Œé‡å¤éå†ä»¥æ‰¾åˆ°å½“å‰å­¦ç”Ÿçš„æ‰€æœ‰ç§‘ç›®çš„æˆç»©ï¼Œå¹¶å­˜æ”¾åˆ°å¯¹åº”ä½ç½®ã€è®¡ç®—æ€»æˆç»©ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Score&gt; <span class="title">initScoreLists</span><span class="params">(String filename)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    List&lt;String[]&gt; scores = readLines(filename);</span><br><span class="line">    Set&lt;String&gt; nameSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    List&lt;Score&gt; scoreList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; scores.size(); i++) &#123;</span><br><span class="line">        String name = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> totalScore = <span class="number">0</span>, chineseScore = <span class="number">0</span>, mathScore = <span class="number">0</span>, englishScore = <span class="number">0</span>;</span><br><span class="line">        List&lt;String&gt; scoreLine = <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="string">&quot;&quot;</span>, <span class="string">&quot;0&quot;</span>, <span class="string">&quot;0&quot;</span>, <span class="string">&quot;0&quot;</span>, <span class="string">&quot;0&quot;</span>));</span><br><span class="line">        line2list(scores.get(i), scoreLine);</span><br><span class="line">        name = scoreLine.get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (nameSet.contains(name)) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nameSet.add(name);</span><br><span class="line">        &#125;</span><br><span class="line">        totalScore += Integer.parseInt(scoreLine.get(<span class="number">4</span>));</span><br><span class="line">        <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; scores.size(); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (scores.get(j)[<span class="number">0</span>].equals(name)) &#123;</span><br><span class="line">                line2list(scores.get(j), scoreLine);</span><br><span class="line">                totalScore += Integer.parseInt(scoreLine.get(<span class="number">4</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        chineseScore = Integer.parseInt(scoreLine.get(<span class="number">1</span>));</span><br><span class="line">        mathScore = Integer.parseInt(scoreLine.get(<span class="number">2</span>));</span><br><span class="line">        englishScore = Integer.parseInt(scoreLine.get(<span class="number">3</span>));</span><br><span class="line">        Score score = <span class="keyword">new</span> Score(name, chineseScore, mathScore, englishScore, totalScore);</span><br><span class="line">        scoreList.add(score);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> scoreList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="0x04-æ’åº-sort"><a href="#0x04-æ’åº-sort" class="headerlink" title="0x04 æ’åº sort"></a>0x04 æ’åº <code>sort</code></h2><p>é™åºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">sort</span><span class="params">(String filename)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    List&lt;Score&gt; scoreLists = initScoreLists(filename);</span><br><span class="line">    scoreLists.sort(<span class="keyword">new</span> ScoreComparator(-<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; scoreLists.size(); i++) &#123;</span><br><span class="line">        result.add(scoreLists.get(i).getName());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h19&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Java å¤šçº¿ç¨‹ç»ƒä¹ </title>
    <link href="https://blog.superpung.xyz/oop-h15/"/>
    <id>https://blog.superpung.xyz/oop-h15/</id>
    <published>2021-04-07T08:32:23.000Z</published>
    <updated>2021-05-01T06:08:57.068Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h15</p><a id="more"></a><h1 id="0x00-ThreadUtil"><a href="#0x00-ThreadUtil" class="headerlink" title="0x00 ThreadUtil"></a>0x00 <code>ThreadUtil</code></h1><div class="note info"><p>æµ‹è¯•ç¨‹åºè¾“å…¥ä¸€ä¸ª StringBufferï¼Œåˆšè¾“å…¥çš„æ—¶å€™ StringBuffer å€¼ä¸ºç©ºï¼Œç­‰å¾…1000 ms åï¼Œè¿™ä¸ª StringBuffer çš„å€¼å˜ä¸º â€œokâ€ã€‚</p></div><p>ä¼ å…¥ StringBuffer æ—¶ä¸èƒ½èµ‹å€¼ï¼Œ1000 ms åèµ‹å€¼å®Œæˆï¼Œæ‰€ä»¥èµ‹å€¼éœ€è¦åœ¨ 0ï½1000 ms å†…è¿›è¡Œã€‚</p><p>é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œç»§æ‰¿ <code>Thread</code> ç±»ï¼Œé‡å†™ <code>run</code> æ–¹æ³•ï¼Œç¡çœ  100 ms å†èµ‹å€¼ã€‚éœ€è¦å£°æ˜ StringBuffer ç±»å‹æˆå‘˜å˜é‡ï¼Œä¾¿äºåœ¨ <code>run</code> ä¸­èµ‹å€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h15;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadUtil</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> StringBuffer buffer;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ThreadUtil</span><span class="params">(StringBuffer buf)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.buffer = buf;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.buffer.append(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-PrimeUtil"><a href="#0x01-PrimeUtil" class="headerlink" title="0x01 PrimeUtil"></a>0x01 <code>PrimeUtil</code></h1><div class="note info"><p>å¤šçº¿ç¨‹æ–¹å¼ï¼Œç»Ÿè®¡ [start,end) åŒºé—´æ‰€æœ‰çš„è´¨æ•°ï¼Œå¹¶ä¸”ä»å°åˆ°å¤§æ’åºè¿”å›ã€‚</p></div><p>é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œæ‰€ä»¥åº”ä¸ºå•ç‹¬ä¸€ä¸ªçº¿ç¨‹åˆ›å»ºç±» <code>PrimeThread</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h15;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimeThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> start;<span class="comment">// åŒºé—´å¼€å§‹ä½ç½®</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> end;<span class="comment">// åŒºé—´ç»“æŸä½ç½®</span></span><br><span class="line">  <span class="comment">// æ„é€ æ–¹æ³•èµ‹å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PrimeThread</span><span class="params">(<span class="keyword">long</span> start, <span class="keyword">long</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// æ‰¾è´¨æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Long&gt; <span class="title">getPrime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> i;</span><br><span class="line">        List&lt;Long&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="keyword">this</span>.start; i &lt; <span class="keyword">this</span>.end; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isPrime(i)) &#123;</span><br><span class="line">                result.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­è´¨æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">long</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt;= Math.sqrt(num); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (num % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›åˆ° <code>PrimeUtil</code>ï¼Œä¼ å…¥çš„å‚æ•° <code>threadCount</code> æŒ‡æ˜äº†çº¿ç¨‹æ•°ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºå¤§å°ä¸º <code>threadCount</code> çš„ <code>PrimeThread</code> ç±»å‹æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ è®¡ç®—å¯¹åº”é•¿åº¦çš„å€¼ï¼Œåˆ›å»ºå¯¹è±¡ã€<code>start</code> å¼€å§‹è®¡ç®—ã€‚</p><p>æœ€ç»ˆ <code>join</code> åˆ°ä¸€èµ·ï¼Œ<code>addAll</code> å¾—åˆ°ç»“æœã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h15;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimeUtil</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PrimeUtil</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Long&gt; <span class="title">getPrimeList</span><span class="params">(<span class="keyword">long</span> start, <span class="keyword">long</span> end, <span class="keyword">int</span> threadCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        List&lt;Long&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        PrimeThread[] threads = <span class="keyword">new</span> PrimeThread[threadCount];</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; threadCount; i++) &#123;</span><br><span class="line">            <span class="keyword">long</span> threadStart = start + (end - start) / threadCount * i;</span><br><span class="line">            <span class="keyword">long</span> threadEnd = start + (end - start) / threadCount * (i + <span class="number">1</span>);</span><br><span class="line">            threads[i] = <span class="keyword">new</span> PrimeThread(threadStart, threadEnd);</span><br><span class="line">            threads[i].start();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; threads.length; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                threads[i].join();</span><br><span class="line">                result.addAll(threads[i].getPrime());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note warning"><p>ä¸Šè¿°æ–¹æ³•é”™åœ¨å“ªé‡Œï¼Ÿï¼ˆæœª override run æ–¹æ³•ï¼‰</p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h15;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimeThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> start;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> end;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Long&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PrimeThread</span><span class="params">(<span class="keyword">long</span> start, <span class="keyword">long</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Long&gt; <span class="title">getPrime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">long</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt;= Math.sqrt(num); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (num % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="keyword">this</span>.start; i &lt; <span class="keyword">this</span>.end; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isPrime(i)) &#123;</span><br><span class="line">                result.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h15&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Java æ–‡ä»¶ç»ƒä¹ ï¼ˆåå•ï¼‰</title>
    <link href="https://blog.superpung.xyz/oop-h14/"/>
    <id>https://blog.superpung.xyz/oop-h14/</id>
    <published>2021-04-07T07:18:39.000Z</published>
    <updated>2021-04-07T09:44:55.876Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h14</p><a id="more"></a><div class="note info"><p>ç°åœ¨æ‰€æœ‰å­¦ç”Ÿçš„åå• students.txtï¼ˆä¸ºäº†é¿å…ä¹±ç é—®é¢˜ï¼Œæ–‡ä»¶ä¸­ä¸åŒ…å«æ±‰å­—ï¼‰ï¼Œå…¶ä¸­æ¯è¡Œä¸ºä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬å­¦å·ã€å§“åã€ç­çº§ï¼Œä»¥ tab ç¬¦å·åˆ†å‰²(\t)ã€‚</p><p>å­¦é™¢è¦æ±‚æ‰€æœ‰åŒå­¦æŠŠè‡ªå·±ä¸€å¯¸ç…§ç‰‡å‘ç»™è¾…å¯¼å‘˜ï¼Œå›¾ç‰‡å‘½åè§„åˆ™ä¸º â€œå­¦å·.jpgâ€ </p><p>ç°åœ¨å­˜åœ¨ä¸‹åˆ—é—®é¢˜ï¼Œè¯·ç”¨ç¼–ç¨‹çš„æ–¹å¼å¸®åŠ©è¾…å¯¼å‘˜è§£å†³å¦‚ä¸‹é—®é¢˜ï¼š</p><ol><li>æ‰¾å‡ºå“ªäº›åŒå­¦æ²¡æœ‰äº¤ç…§ç‰‡ï¼› </li><li>åœ¨ç›®æ ‡ç›®å½•ä¸‹æ¯ä¸ªç­çº§å»ºç«‹ä¸€ä¸ªå­ç›®å½•ï¼ŒæŠŠä¸Šäº¤çš„åŒå­¦çš„ç…§ç‰‡ï¼Œç»Ÿä¸€æŒ‰ å­¦å·_å§“å.jpg æ–¹å¼æ‹·è´åˆ°å„è‡ªç­çº§ç›®å½•ä¸‹ï¼ŒåŸæ¥çš„æ–‡ä»¶ä¸è¦åˆ é™¤ã€‚</li></ol><p>å®é™…æµ‹è¯•ä¸­ï¼Œæ–‡ä»¶å­˜æ”¾ä½ç½®å¯èƒ½æ”¹å˜ï¼Œå­¦ç”Ÿæ•°é‡ä¹Ÿå¯èƒ½æ”¹å˜ã€‚</p></div><p>txt æ–‡ä»¶ç»™å‡ºäº†å­¦ç”Ÿåå•ï¼ŒæŸæ–‡ä»¶å¤¹ä¸‹æ˜¯å­¦ç”Ÿä¸Šäº¤çš„å›¾ç‰‡ã€‚</p><p>é¦–å…ˆè¯»å– txt æ–‡ä»¶ï¼Œæ¯è¡Œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œæ‰€æœ‰è¡Œç»„æˆä¸€ä¸ªåˆ—è¡¨ï¼›è¯»å–æ–‡ä»¶å¤¹ï¼Œè·å¾—æœ‰æ•ˆçš„æ–‡ä»¶åï¼Œç»„æˆå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œç„¶åè¿›ä¸€æ­¥åˆ¤æ–­ã€‚</p><h1 id="0x00-getNameList"><a href="#0x00-getNameList" class="headerlink" title="0x00 getNameList"></a>0x00 <code>getNameList</code></h1><p>æŒ‰è¡Œè¯»å– txt æ–‡ä»¶ï¼ŒæŒ‰ <code>\t</code> åˆ†éš”ï¼ŒæŒ‰æ ¼å¼å­˜å‚¨ä¿¡æ¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String[]&gt; getNameList(String filename) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">String line = <span class="string">&quot;&quot;</span>;</span><br><span class="line">Reader reader;</span><br><span class="line">List&lt;String[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">line = lineReader.readLine();</span><br><span class="line"><span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">result.add(line.split(<span class="string">&quot;\t&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-getValidFileIdList"><a href="#0x01-getValidFileIdList" class="headerlink" title="0x01 getValidFileIdList"></a>0x01 <code>getValidFileIdList</code></h1><p>è·å–æ–‡ä»¶å¤¹ä¸‹æœ‰æ•ˆçš„æ–‡ä»¶åï¼ˆå­¦å·ï¼‰åˆ—è¡¨ã€‚</p><p>ä¼ å…¥å‚æ•°ä¸ºç›®å½•ï¼Œç”¨ <code>listFiles</code> åˆ—å‡ºç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œç„¶åéå†è¿™äº›æ–‡ä»¶ï¼Œå–æ–‡ä»¶åï¼Œè‹¥ç¬¦åˆå­¦å·çš„æ ‡å‡†åˆ™å­˜å‚¨ï¼Œæœ€ç»ˆè¿”å›ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getValidFileIdList</span><span class="params">(String filename)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">File file = <span class="keyword">new</span> File(filename);</span><br><span class="line">File[] fileList = file.listFiles();</span><br><span class="line"><span class="keyword">if</span> (fileList == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (File fileEle : fileList) &#123;</span><br><span class="line">String name = fileEle.getName();</span><br><span class="line"><span class="keyword">if</span> (name.matches(<span class="string">&quot;[0-9]&#123;10&#125;.jpg&quot;</span>)) &#123;</span><br><span class="line">result.add(name.substring(<span class="number">0</span>, <span class="number">10</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x02-copyFile"><a href="#0x02-copyFile" class="headerlink" title="0x02 copyFile"></a>0x02 <code>copyFile</code></h1><p>æ‹·è´æ–‡ä»¶æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤åˆ¶IOæµ</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> in</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> out</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyIO</span><span class="params">(InputStream in, OutputStream out)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[CHUNK_SIZE];</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»è¾“å…¥æµè¯»å–å†…å®¹å¹¶å†™å…¥åˆ°å¦å¤–ä¸€ä¸ªæµçš„å…¸å‹æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">int</span> len = in.read(buf);</span><br><span class="line"><span class="keyword">while</span> (len != -<span class="number">1</span>) &#123;</span><br><span class="line">out.write(buf, <span class="number">0</span>, len);</span><br><span class="line">len = in.read(buf);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤åˆ¶æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fsrc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fdest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyFile</span><span class="params">(String fsrc, String fdest)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">InputStream in = <span class="keyword">null</span>;</span><br><span class="line">OutputStream out = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">in = <span class="keyword">new</span> FileInputStream(fsrc);</span><br><span class="line">out = <span class="keyword">new</span> FileOutputStream(fdest, <span class="keyword">true</span>);</span><br><span class="line">copyIO(in, out);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">close(in);</span><br><span class="line">close(out);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…³é—­ä¸€ä¸ªè¾“å…¥ è¾“å‡ºæµ</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> inout</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Closeable inout)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (inout != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">inout.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x03-copyToTargetDirAndReturnNoExist"><a href="#0x03-copyToTargetDirAndReturnNoExist" class="headerlink" title="0x03 copyToTargetDirAndReturnNoExist"></a>0x03 <code>copyToTargetDirAndReturnNoExist</code></h1><div class="note info"><p>æ‰¾åˆ°æœªäº¤ç…§ç‰‡çš„å­¦ç”Ÿï¼Œå¹¶å°†å·²äº¤ç…§ç‰‡æ‹·è´è‡³æŒ‡å®šç›®å½•ä¸”é‡å‘½åã€‚</p></div><p>ç”±äºæ‹·è´çš„ç›®æ ‡ç›®å½•ä¸‹è¿˜éœ€å»ºç«‹ç­çº§å­ç›®å½•ï¼Œæ‰€ä»¥å¯ä»¥éå†åå•ï¼Œè‹¥å¯¹åº”çš„ç­çº§æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»ºã€‚</p><p>éå†åå•ï¼Œè‹¥å¯¹åº”çš„å­¦å·åœ¨å·²äº¤æ–‡ä»¶ååˆ—è¡¨ä¸­ä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶å§“ååŠ å…¥æœªäº¤ç…§ç‰‡åˆ—è¡¨ï¼Œå¦åˆ™æ‹·è´å…¶å¯¹åº”çš„æ–‡ä»¶ã€‚</p><div class="note warning"><p>æ³¨æ„æ–‡ä»¶çš„æ‰©å±•åä»¥åŠç›®å½•çš„æ–œæ ç­‰ç»†èŠ‚ã€‚</p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">copyToTargetDirAndReturnNoExist</span><span class="params">(String studentListFile,String srcDir,String target)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">List&lt;String[]&gt; nameList = getNameList(studentListFile);</span><br><span class="line">List&lt;String&gt; fileIdList = getValidFileIdList(srcDir);</span><br><span class="line">Set&lt;String&gt; noExistIdSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String[] stu : nameList) &#123;</span><br><span class="line">File targetDir = <span class="keyword">new</span> File(target, stu[<span class="number">2</span>]);</span><br><span class="line"><span class="keyword">if</span> (!targetDir.exists()) &#123;</span><br><span class="line">targetDir.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; nameList.size(); i++) &#123;</span><br><span class="line">String id = nameList.get(i)[<span class="number">0</span>];</span><br><span class="line">String name = nameList.get(i)[<span class="number">1</span>];</span><br><span class="line">String classNo = nameList.get(i)[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!fileIdList.contains(id)) &#123;</span><br><span class="line">noExistIdSet.add(id);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">String srcPath = srcDir + id + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">String targetPath = target + classNo + <span class="string">&quot;/&quot;</span> + id + <span class="string">&quot;_&quot;</span> + name + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">copyFile(srcPath, targetPath);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> noExistIdSet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x04-å®Œæ•´ä»£ç "><a href="#0x04-å®Œæ•´ä»£ç " class="headerlink" title="0x04 å®Œæ•´ä»£ç "></a>0x04 å®Œæ•´ä»£ç </h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h14;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨æœ¬åŒ…ä¸‹å¢åŠ åˆé€‚çš„ç±»å’Œæ–¹æ³•ï¼Œ æœ¬ç¨‹åºä¸ä½†è¦æµ‹è¯•é€šè¿‡ï¼Œè¿˜éœ€è¦å†™é€‚å½“çš„æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * ä¸è¦å¼•ç”¨jdk1.8ä»¥å¤–ç¬¬ä¸‰æ–¹çš„åŒ…</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTools</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> CHUNK_SIZE = <span class="number">4096</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyTools</span><span class="params">( )</span> </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> studentListFile  å­˜æ”¾å­¦ç”Ÿåå•çš„æ–‡ä»¶å</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> srcDir å›¾ç‰‡å­˜æ”¾çš„ç›®å½•ï¼ˆä¸ä¼šåŒ…å«å­ç›®å½•ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">copyToTargetDirAndReturnNoExist</span><span class="params">(String studentListFile,String srcDir,String target)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">List&lt;String[]&gt; nameList = getNameList(studentListFile);</span><br><span class="line">List&lt;String&gt; fileIdList = getValidFileIdList(srcDir);</span><br><span class="line">Set&lt;String&gt; noExistIdSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String[] stu : nameList) &#123;</span><br><span class="line">File targetDir = <span class="keyword">new</span> File(target, stu[<span class="number">2</span>]);</span><br><span class="line"><span class="keyword">if</span> (!targetDir.exists()) &#123;</span><br><span class="line">targetDir.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; nameList.size(); i++) &#123;</span><br><span class="line">String id = nameList.get(i)[<span class="number">0</span>];</span><br><span class="line">String name = nameList.get(i)[<span class="number">1</span>];</span><br><span class="line">String classNo = nameList.get(i)[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!fileIdList.contains(id)) &#123;</span><br><span class="line">noExistIdSet.add(id);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">String srcPath = srcDir + id + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">String targetPath = target + classNo + <span class="string">&quot;/&quot;</span> + id + <span class="string">&quot;_&quot;</span> + name + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">copyFile(srcPath, targetPath);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> noExistIdSet;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filename</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> FileNotFoundException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getValidFileIdList</span><span class="params">(String filename)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">File file = <span class="keyword">new</span> File(filename);</span><br><span class="line">File[] fileList = file.listFiles();</span><br><span class="line"><span class="keyword">if</span> (fileList == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (File fileEle : fileList) &#123;</span><br><span class="line">String name = fileEle.getName();</span><br><span class="line"><span class="keyword">if</span> (name.matches(<span class="string">&quot;[0-9]&#123;10&#125;.jpg&quot;</span>)) &#123;</span><br><span class="line">result.add(name.substring(<span class="number">0</span>, <span class="number">10</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filename</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> List&lt;String[]&gt; getNameList(String filename) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">String line = <span class="string">&quot;&quot;</span>;</span><br><span class="line">Reader reader;</span><br><span class="line">List&lt;String[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">reader = <span class="keyword">new</span> FileReader(filename);</span><br><span class="line">LineNumberReader lineReader = <span class="keyword">new</span> LineNumberReader(reader);</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">line = lineReader.readLine();</span><br><span class="line"><span class="keyword">if</span> (line == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">result.add(line.split(<span class="string">&quot;\t&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤åˆ¶IOæµ</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> in</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> out</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyIO</span><span class="params">(InputStream in, OutputStream out)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[CHUNK_SIZE];</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»è¾“å…¥æµè¯»å–å†…å®¹å¹¶å†™å…¥åˆ°å¦å¤–ä¸€ä¸ªæµçš„å…¸å‹æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">int</span> len = in.read(buf);</span><br><span class="line"><span class="keyword">while</span> (len != -<span class="number">1</span>) &#123;</span><br><span class="line">out.write(buf, <span class="number">0</span>, len);</span><br><span class="line">len = in.read(buf);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤åˆ¶æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fsrc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fdest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyFile</span><span class="params">(String fsrc, String fdest)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">InputStream in = <span class="keyword">null</span>;</span><br><span class="line">OutputStream out = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">in = <span class="keyword">new</span> FileInputStream(fsrc);</span><br><span class="line">out = <span class="keyword">new</span> FileOutputStream(fdest, <span class="keyword">true</span>);</span><br><span class="line">copyIO(in, out);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">close(in);</span><br><span class="line">close(out);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…³é—­ä¸€ä¸ªè¾“å…¥ è¾“å‡ºæµ</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> inout</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Closeable inout)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (inout != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">inout.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h14&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Java æ–‡ä»¶ç»ƒä¹ ï¼ˆçº¢æ¥¼æ¢¦ï¼‰</title>
    <link href="https://blog.superpung.xyz/oop-h13/"/>
    <id>https://blog.superpung.xyz/oop-h13/</id>
    <published>2021-04-07T07:18:33.000Z</published>
    <updated>2021-04-07T08:29:26.958Z</updated>
    
    <content type="html"><![CDATA[<p>OOP h13</p><a id="more"></a><div class="note info"><p>ç°åœ¨æœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ red.txtï¼ˆå…¶æ ¼å¼å’Œå†…å®¹è§ red.txtï¼‰ï¼Œé‡Œé¢å­˜æ”¾äº†çº¢æ¥¼æ¢¦ 120 å›çš„å†…å®¹ï¼š</p><p>è¯·å®Œæˆ Analysis ç±»ï¼Œå¢åŠ å®Œæˆé€‚å½“çš„æ–¹æ³•ï¼Œä½¿å¾—è¯¥ç¨‹åºå¯ä»¥å®Œæˆå¦‚ä¸‹åŠŸèƒ½ï¼š</p><ol><li>ç»Ÿè®¡ä»»æ„è¯åœ¨çº¢æ¥¼æ¢¦ä¸­æ¯å›å‡ºç°çš„é¢‘ç‡ï¼šgetStringFrequent(str)</li><li>ä¸è€ƒè™‘ç©ºæ ¼ã€å›è½¦ã€æ‰€æœ‰æ ‡ç‚¹ç¬¦å·ã€åˆ¶è¡¨ç¬¦çš„æƒ…å†µä¸‹ï¼Œç»Ÿè®¡æ•´ä¸ªçº¢æ¥¼æ¢¦ä¸­ topN çš„ä¸¤ä¸ªå­—çš„ç»„åˆï¼š getTopNWords(n)</li></ol><p>å‚è€ƒçš„è¾“å‡ºç»“æœè§ï¼šå‚è€ƒè¿è¡Œç»“æœ</p><p>æç¤ºï¼šAnalysis ä¸­å·²ç»æœ‰äº† readFromTxtï¼ˆä¸è¦ä¿®æ”¹è¿™ä¸ªæ–¹æ³•ï¼Œå¦åˆ™å¯èƒ½ä¼šè¯»å‡ºä¹±ç ï¼‰å’Œå°†çº¢æ¥¼æ¢¦æ‹†åˆ†ä¸º 120 å›çš„æ–¹æ³•ã€‚ å°†å°è¯´åˆ†æˆ 120 ä¸ªç« èŠ‚çš„æ—¶å€™ï¼Œä¸ç”¨è¿‡åˆ†çº ç»“å°è¯´ä¸­çš„å¹²æ‰°å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š æ‰‹æœºç”µå­ä¹¦Â·å¤§å­¦ç”Ÿå°è¯´ç½‘â€¦â€¦.æ›´æ–°æ—¶é—´:2006-7-26 11:43:00 æœ¬ç« å­—æ•°:6394 ç­‰ç­‰</p></div><p>éœ€è¦å®Œæˆçš„æœ‰æ„é€ æ–¹æ³•ã€ç»Ÿè®¡é¢‘ç‡å’Œç»Ÿè®¡æœ€é«˜é¢‘è¯ã€‚</p><h1 id="0x00-Analysis"><a href="#0x00-Analysis" class="headerlink" title="0x00 Analysis"></a>0x00 Analysis</h1><p>æ„é€ æ–¹æ³•ä¼ å‚æ•°ä¸ºæ–‡ä»¶åœ°å€ï¼Œéœ€è¦è°ƒç”¨ç»™å‡ºçš„ <code>readFromTxt</code> æ–¹æ³•è¯»å–æ–‡ä»¶ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>ç”±äºåç»­æ“ä½œéœ€è¦åˆ†ç« èŠ‚ï¼Œæ‰€ä»¥åœ¨æ­¤å¤„å¯ä»¥è°ƒç”¨ <code>splitContentToChapter</code> æ‹†åˆ†ç« èŠ‚ï¼Œå­˜æ”¾åˆ°å­—ç¬¦ä¸²æ•°ç»„ä¸­ã€‚</p><div class="note warning"><p>æ³¨æ„ï¼Œåç»­ç»Ÿè®¡å‡å¿½ç•¥ç©ºæ ¼ã€å›è½¦ã€æ‰€æœ‰æ ‡ç‚¹ç¬¦å·å’Œåˆ¶è¡¨ç¬¦ï¼Œä¸ºæ­¤éœ€è¦å°†è¿™äº›ç‰¹æ®Šå­—ç¬¦å­˜æ”¾èµ·æ¥ç”¨äºåç»­åˆ¤æ–­ã€‚æˆ‘å°†æ‰€æœ‰æ ‡ç‚¹ç¬¦å·ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢ä¸ºç©ºæ ¼ï¼Œç„¶åå­˜æ”¾ç©ºæ ¼ã€å›è½¦å’Œåˆ¶è¡¨ç¬¦ä¸ºéœ€è¦å¿½ç•¥çš„å­—ç¬¦ã€‚</p></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String[] chapters;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Set&lt;Character&gt; ignoreChar = <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;\r&#x27;</span>, <span class="string">&#x27;\t&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Analysis</span><span class="params">(String filename)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">String text = readFromTxt(filename);</span><br><span class="line">text = text.replaceAll(<span class="string">&quot;[\\pPâ€˜â€™â€œâ€]&quot;</span>, <span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="keyword">this</span>.chapters = splitContentToChapter(text);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x01-getStringFrequent"><a href="#0x01-getStringFrequent" class="headerlink" title="0x01 getStringFrequent"></a>0x01 <code>getStringFrequent</code></h1><div class="note info"><p>ç»Ÿè®¡æ¯ç« èŠ‚æŸå­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ã€‚</p></div><p>å…± 120 ç« ï¼Œæ‰€ä»¥å»ºç«‹å¤§å°ä¸º 120 çš„æ•°ç»„ï¼Œç¬¬ i ä¸ªå…ƒç´ å°±æ˜¯è¯¥å­—ç¬¦ä¸²åœ¨ç¬¬ i ç« å‡ºç°çš„æ¬¡æ•°ã€‚</p><div class="note warning"><p>æ³¨æ„éœ€è¦ç»Ÿè®¡çš„å­—ç¬¦ä¸²é•¿åº¦ä¸å®šã€‚</p></div><p>å› ä¸ºä¸Šé¢æ‹†åˆ†å‡ºæ¥çš„å­—ç¬¦ä¸²æ•°ç»„ç¬¬ 0 ä¸ªå…ƒç´ ä¸ºç¬¬ä¸€ç« ä¹‹å‰çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥å¾ªç¯ä» 1ï¼ˆç¬¬ä¸€ç« ï¼‰å¼€å§‹ï¼Œå¾ªç¯ 120 æ¬¡ï¼Œå¯¹äºæ¯ä¸€æ¬¡å¾ªç¯ï¼Œéå†è¯¥ç« èŠ‚çš„å­—ç¬¦ä¸²ï¼Œå¹¶å–å­ä¸²æ¯”è¾ƒï¼Œè‹¥ç›¸ç­‰åˆ™è‡ªå¢ 1ã€‚ï¼ˆæ­¤å¤„å¯ä¼˜åŒ–ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getStringFrequent(String str) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="keyword">int</span>[] counts = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">120</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.chapters.length &gt; <span class="number">121</span>) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;æ‹†åˆ†çš„ç« èŠ‚æ•°é‡ä¸å¯¹&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line"><span class="keyword">int</span> length = str.length();</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="keyword">this</span>.chapters.length; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">String content = <span class="keyword">this</span>.chapters[i];</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; content.length() + <span class="number">1</span> - length; j++) &#123;</span><br><span class="line">String contentStr = content.substring(j, j + length);</span><br><span class="line"><span class="keyword">if</span> (str.equals(contentStr)) &#123;</span><br><span class="line">count++;</span><br><span class="line">&#125;</span><br><span class="line">counts[i - <span class="number">1</span>] = count;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> counts;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x02-getTopNWords"><a href="#0x02-getTopNWords" class="headerlink" title="0x02 getTopNWords"></a>0x02 <code>getTopNWords</code></h1><div class="note info"><p>è¿”å›çº¢æ¥¼æ¢¦ä¸­å‡ºç°é¢‘ç‡æœ€é«˜çš„ N ä¸ªè¯ï¼Œé¢‘ç‡ä»é«˜åˆ°ä½æ’åˆ—ï¼ˆæ‰€è°“è¯å°±æ˜¯ä¸¤ä¸ªç›¸é‚»çš„æ±‰å­—ï¼‰ã€‚</p></div><p>åŒæ ·ï¼Œå’Œä¹‹å‰åšè¿‡çš„ä½œä¸šç±»ä¼¼ï¼Œç”¨å“ˆå¸Œæ˜ å°„ï¼ŒæŠŠæ‰€æœ‰è¯ä½œä¸ºé”®å­˜æ”¾å…¶ä¸­ï¼Œå…¶å‡ºç°çš„é¢‘ç‡ä½œä¸ºå€¼ï¼Œæœ€åæ’ä¸ªåºã€‚</p><p>å¦‚æœç»Ÿè®¡è¿‡ç¨‹ä¸­é‡åˆ°éœ€è¦å¿½ç•¥çš„å­—ç¬¦ï¼Œåˆ™è·³è¿‡ã€‚</p><p>æœ€ç»ˆå­˜æ”¾å‰ n ä¸ªé”®ï¼Œå³ä¸ºé«˜é¢‘è¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getTopNWords</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line">Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">List&lt;Map.Entry&lt;String, Integer&gt;&gt; mapList;</span><br><span class="line">List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="keyword">this</span>.chapters.length; i++)&#123;</span><br><span class="line">String content = <span class="keyword">this</span>.chapters[i];</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; content.length() - <span class="number">1</span>; j++) &#123;</span><br><span class="line">String str = content.substring(j, j + <span class="number">2</span>);</span><br><span class="line"><span class="keyword">if</span> (ignoreChar.contains(str.charAt(<span class="number">0</span>)) || ignoreChar.contains(str.charAt(<span class="number">1</span>))) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> count;</span><br><span class="line">count = map.getOrDefault(str, <span class="number">0</span>);</span><br><span class="line">map.put(str, count + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mapList = <span class="keyword">new</span> ArrayList&lt;&gt;(map.entrySet());</span><br><span class="line">mapList.sort((o1, o2) -&gt; o2.getValue().compareTo(o1.getValue()));</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">ans.add(mapList.get(i).getKey());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="0x03-å®Œæ•´ä»£ç "><a href="#0x03-å®Œæ•´ä»£ç " class="headerlink" title="0x03 å®Œæ•´ä»£ç "></a>0x03 å®Œæ•´ä»£ç </h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.huawei.classroom.student.h13;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨æœ¬åŒ…ä¸‹å¢åŠ åˆé€‚çš„ç±»å’Œæ–¹æ³•ï¼Œä½¿å¾—Testç±»èƒ½å¤Ÿæµ‹è¯•é€šè¿‡ </span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * ä¸è¦å¼•ç”¨jdk1.8ä»¥å¤–ç¬¬ä¸‰æ–¹çš„åŒ…</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> super</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Analysis</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String[] chapters;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Set&lt;Character&gt; ignoreChar = <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;\r&#x27;</span>, <span class="string">&#x27;\t&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Analysis</span><span class="params">(String filename)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">String text = readFromTxt(filename);</span><br><span class="line">text = text.replaceAll(<span class="string">&quot;[\\pPâ€˜â€™â€œâ€]&quot;</span>, <span class="string">&quot; &quot;</span>);</span><br><span class="line"><span class="keyword">this</span>.chapters = splitContentToChapter(text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æç¤º ï¼šå°†ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶è¯»å–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è¿”å›</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filename çº¢æ¥¼æ¢¦æ–‡æœ¬æ–‡ä»¶çš„å…¨è·¯å¾„å</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> æ–‡æœ¬çš„å†…å®¹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">readFromTxt</span><span class="params">(String filename)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">Reader reader = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">StringBuffer buf = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"><span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="comment">// InputStream in=new FileInputStream(filename);</span></span><br><span class="line"></span><br><span class="line">reader = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(filename), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> readed = reader.read(chars);</span><br><span class="line"><span class="keyword">while</span> (readed != -<span class="number">1</span>) &#123;</span><br><span class="line">buf.append(chars, <span class="number">0</span>, readed);</span><br><span class="line">readed = reader.read(chars);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> buf.toString();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">close(reader);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›çº¢æ¥¼æ¢¦ä¸­å‡ºç°é¢‘ç‡æœ€é«˜çš„Nä¸ªæ¬¡ï¼Œé¢‘ç‡ä»é«˜åˆ°ä½æ’åˆ—ï¼ˆæ‰€è°“è¯å°±æ˜¯ä¸¤ä¸ªç›¸é‚»çš„æ±‰å­—ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> n</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getTopNWords</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line">Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">List&lt;Map.Entry&lt;String, Integer&gt;&gt; mapList;</span><br><span class="line">List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="keyword">this</span>.chapters.length; i++)&#123;</span><br><span class="line">String content = <span class="keyword">this</span>.chapters[i];</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; content.length() - <span class="number">1</span>; j++) &#123;</span><br><span class="line">String str = content.substring(j, j + <span class="number">2</span>);</span><br><span class="line"><span class="keyword">if</span> (ignoreChar.contains(str.charAt(<span class="number">0</span>)) || ignoreChar.contains(str.charAt(<span class="number">1</span>))) &#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> count;</span><br><span class="line">count = map.getOrDefault(str, <span class="number">0</span>);</span><br><span class="line">map.put(str, count + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mapList = <span class="keyword">new</span> ArrayList&lt;&gt;(map.entrySet());</span><br><span class="line">mapList.sort((o1, o2) -&gt; o2.getValue().compareTo(o1.getValue()));</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">ans.add(mapList.get(i).getKey());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…³é—­è¾“å…¥è¾“å…¥æµ</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> inout</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">(Closeable inout)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (inout != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">inout.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æç¤º å°†çº¢æ¥¼æ¢¦æ–‡æœ¬æ–‡ä»¶æ‹†åˆ†ä¸º120ä¸ªç« èŠ‚çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> content</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> è¿”å›120ä¸ªå…ƒç´ çš„å­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> String[] splitContentToChapter(String content) &#123;</span><br><span class="line"><span class="comment">// æç¤º ä½¿ç”¨ content.split(&quot; ç¬¬[ä¸€,äºŒ,ä¸‰,å››,äº”,å…­,ä¸ƒ,å…«,ä¹,å,é›¶]&#123;1,5&#125;å› &quot;);æ­£åˆ™è¡¨è¾¾æ‹†åˆ†</span></span><br><span class="line"><span class="comment">// ç™¾åº¦ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">String contents[] = content.split(<span class="string">&quot; ç¬¬[ä¸€,äºŒ,ä¸‰,å››,äº”,å…­,ä¸ƒ,å…«,ä¹,å,é›¶]&#123;1,5&#125;å› &quot;</span>);</span><br><span class="line"><span class="keyword">return</span> contents;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»Ÿè®¡çº¢æ¥¼æ¢¦ç« èŠ‚å­—ç¬¦ä¸²strå‡ºç°çš„é¢‘ç‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getStringFrequent(String str) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"><span class="keyword">int</span>[] counts = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">120</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.chapters.length &gt; <span class="number">121</span>) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;æ‹†åˆ†çš„ç« èŠ‚æ•°é‡ä¸å¯¹&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line"><span class="keyword">int</span> length = str.length();</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="keyword">this</span>.chapters.length; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">String content = <span class="keyword">this</span>.chapters[i];</span><br><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; content.length() + <span class="number">1</span> - length; j++) &#123;</span><br><span class="line">String contentStr = content.substring(j, j + length);</span><br><span class="line"><span class="keyword">if</span> (str.equals(contentStr)) &#123;</span><br><span class="line">count++;</span><br><span class="line">&#125;</span><br><span class="line">counts[i - <span class="number">1</span>] = count;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> counts;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;OOP h13&lt;/p&gt;</summary>
    
    
    
    
    <category term="Java" scheme="https://blog.superpung.xyz/tags/Java/"/>
    
  </entry>
  
</feed>
